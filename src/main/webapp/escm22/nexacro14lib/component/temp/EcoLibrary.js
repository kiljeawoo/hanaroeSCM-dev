if(!JsNamespace){var JsNamespace={namespaceCache:{},dummyNamespace:{},exist:function(name){var pThis=this;if(typeof name!='string'){throw new Error("100","[JsNamespace.exist] Invalid name, must be a string");}var cache=pThis.namespaceCache;if(cache.hasOwnProperty(name)){return true;}return false;},declare:function(name,value){if(!value){return;}var pThis=JsNamespace;var obj=pThis.getGlobalContext(),cache=pThis.namespaceCache,dummyCache=pThis.dummyNamespace,names=name.split('.'),len=names.length-1,leaf=names[len],i,nm,fullnm="";for(i=0;i<len;i++ ){nm=names[i];if(i==0){fullnm+=nm;}else{fullnm+="."+nm;}if(cache[fullnm]){obj=cache[fullnm];}else{if(!dummyCache[fullnm]){obj[nm]={};pThis.dummyNamespace[fullnm]=obj[nm];}obj=obj[nm];}}if(dummyCache[name]){var prop,dummy=dummyCache[name];for(prop in dummy){if(dummy.hasOwnProperty(prop)){if(!value.hasOwnProperty(prop)){value[prop]=dummy[prop];}}}delete dummyCache[name];}obj[leaf]=value;pThis.namespaceCache[name]=value;value._className=name;if(value.prototype!==undefined){pThis.setDebugInfo(name,value);pThis.setDebugInfo(name,value.prototype,value);}else{pThis.setDebugInfo(name,value);}return obj[leaf];},setDebugInfo:function(name,value,owner){if(!value){return;}if(!owner){owner=value;}var nm,type,prop;for(nm in value){if(value.hasOwnProperty(nm)){prop=value[nm];type=typeof prop;if(type=="function"){if(!prop._thisName){prop._thisName=nm;}if(!prop._thisOwner){prop._thisOwner=owner;}}}}},_create:Object.create||(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8?function(proto){function inheritance(){};inheritance.prototype=proto;return new inheritance();}:function(proto){return {__proto__:proto};}),_defineProperties:function(proto,properties,owner){var map=Eco.object.merge({},proto._propertiesMap||{},properties);var capitalize=Eco.string.capitalize;proto._propertiesMap=map;for(var nm in properties){if(properties.hasOwnProperty(nm)){var mName=capitalize(nm),getName="get"+mName,setName="set"+mName,mapVal=properties[nm],memberName=nm;if(mapVal.memberName!==undefined){memberName=mapVal.memberName;}if(mapVal.value!==undefined){proto._initVals[memberName]=mapVal.value;}if(mapVal.get){proto[getName]=mapVal.get;}else{proto[getName]=new Function("return this."+memberName+";");}mapVal["getter"]=getName;if(mapVal.set){proto[setName]=mapVal.set;}else{var script="";if(mapVal.checkValue){mapVal.checkValue._thisName=setName;mapVal.checkValue._thisOwner=owner;script+="\tvar newVal = this._propertiesMap[\""+nm+"\"].checkValue.call(this, value);\r\n";}else{script+="var newVal = value;\r\n";}script+="var oldVal = this."+memberName+";\r\n";script+="if ( !Eco.equals(newVal, oldVal) )\r\n";script+="{\r\n";if(mapVal.updateValue){mapVal.updateValue._thisName=setName;mapVal.updateValue._thisOwner=owner;script+="\tthis._propertiesMap[\""+nm+"\"].updateValue.call(this, newVal);\r\n";}else{script+="\tthis."+memberName+" = newVal;\r\n";}script+="\tthis._propertyChange(\""+nm+"\", newVal, oldVal);\r\n";script+="}";proto[setName]=new Function("value",script);}mapVal["setter"]=setName;}}},_defineEvents:function(proto,events){var map=Eco.object.merge({},proto._eventsMap||{});var entry;for(var nm in events){if(events.hasOwnProperty(nm)){entry=events[nm];var isString=(typeof entry==='string'),eventName=isString?entry:nm;map[eventName]=isString?{}:entry;}}proto._eventsMap=map;if(!proto["fireEvent"]){var eventHelper=this._eventHelper,func;for(var key in eventHelper){if(key!="_className"&&eventHelper.hasOwnProperty(key)){func=eventHelper[key];proto[key]=func;if(!func._thisName){func._thisName=key;}if(!func._thisOwner){func._thisOwner=eventHelper;}}}}},_eventHelper:{"_className":"JsNamespace._eventHelper",addEventHandler:function(eventName,func,scope){if(typeof eventName!=='string'){scope=func;for(var key in eventName){if(eventName.hasOwnProperty(key)){this.addEventHandler(key,eventName[key],scope);}}return;}if(!Eco.isFunction(func)){return;}var entry=this._eventsMap[eventName];if(entry){var handlers=this._handlers=this._handlers||{};handlers=handlers[eventName]=handlers[eventName]||[];if(Eco.array.indexOf(handlers,func,null,true)== -1){scope=scope||this;handlers.push({"handler":func,"scope":scope});if(entry.install&&handlers.length==1){entry.install.call(this,eventName);}}}},"insertEventHandler":function(eventName,idx,func,scope){if(!Eco.isFunction(func)){return;}var entry=this._eventsMap[eventName];if(entry){var handlers=this._handlers=this._handlers||{};handlers=handlers[eventName]=handlers[eventName]||[];if(Eco.array.indexOf(handlers,func,null,true)== -1){scope=scope||this;if(idx>handlers.length){idx=handlers.length;}handlers.splice(idx,0,{"handler":func,"scope":scope});if(entry.install&&handlers.length==1){entry.install.call(this,eventName);}}}},"findEventHandler":function(eventName,func){var handlers=this._handlers&&this._handlers[eventName];if(!handlers){return  -1;}var handler;for(var i=0,len=handlers.length;i<len;i++ ){handler=handlers[i];if(func===handler.handler){return i;}}return  -1;},"getEventHandler":function(eventName,idx){var handlers=this._handlers&&this._handlers[eventName];if(!handlers){return null;}if(idx==null){return handlers;}else{var handler=handlers[idx];if(handler){return handler.handler;}}return null;},"clearEventHandler":function(eventName){var handlers=this._handlers;if(handlers){if(handlers[eventName]){var entry=this._eventsMap[eventName];if(entry.uninstall){entry.uninstall.call(this,eventName);}delete handlers[eventName];}}},"removeEventHandler":function(eventName,func){if(typeof eventName!=='string'){Eco.object.Each(eventName,function(key,value){this.removeEventHandler(key,value);},this);return;}var entry=this._eventsMap[eventName],handlers=this._handlers&&this._handlers[eventName],index= -1;if(entry&&handlers){if(func){for(var i=0,len=handlers.length;i<len;i++ ){handler=handlers[i];func=handler.handler;if(func===handler.handler){index=i;break;}}}if(index!= -1&&handlers.length==1){if(entry.uninstall){entry.uninstall.call(this,eventName);}delete this._handlers[eventName];}else if(index!= -1){handlers.splice(index,1);}}},"fireEvent":function(eventName,e){var handlers=this._handlers&&this._handlers[eventName];if(!handlers||!handlers.length){return null;}var handler,func,scope,ret;for(var i=0,len=handlers.length;i<len;i++ ){handler=handlers[i];func=handler.handler;scope=handler.scope;ret=func.call(scope,this,e);if(e._prevented||ret===false){ret=false;break;}}return ret;},"hasEventHandler":function(eventName){return !!(this._handlers&&this._handlers[eventName]&&this._handlers[eventName].length);},"getEventHandlerLength":function(eventName){if(this._handlers&&this._handlers[eventName]){return this._handlers[eventName].length;}return 0;},getEventsNames:function(){var curCls=this.constructor;var eventsNames=curCls._eventsNames;if(!eventsNames){eventsNames=Eco.object.getPropertyNames(this._eventsMap);curCls._eventsNames=eventsNames;}return eventsNames;}},_classHelper:{_className:"JsNamespace._classHelper",_propertyChange:function(nm,newVal,oldVal){},getClassName:function(){var cls=this.constructor;return cls._className;},getPropertiesNames:function(){var curCls=this.constructor;var propertiesNames=curCls._propertiesNames;if(!propertiesNames){propertiesNames=Eco.object.getPropertyNames(this._propertiesMap);curCls._propertiesNames=propertiesNames;}return propertiesNames;},getGetter:function(propertyNm,isFunc){var props=this._propertiesMap,val=props[propertyNm];if(val){if(isFunc){return this[val.getter];}else{return val.getter;}}},getSetter:function(propertyNm,isFunc){var props=this._propertiesMap,val=props[propertyNm];if(val){if(isFunc){return this[val.setter];}else{return val.setter;}}},getPropertiesValues:function(){var property;var props=this._propertiesMap,res={};Eco.object.Each(props,function(propNm,val){res[propNm]=this[val.getter]();},this);return res;},getMethodsNames:function(){var curCls=this.constructor;var methodsNames=curCls._methodsNames;if(!methodsNames){var startsWith=Eco.string.startsWith,isFunction=Eco.isFunction,propMap=this._propertiesMap,proto=curCls.prototype;methodsNames=[];for(var nm in proto){if((nm!="constructor"&&nm!="initialize"&&nm!="toString"&&nm!="valueOf")&&isFunction(proto[nm])){if(startsWith(nm,"get")||startsWith(nm,"set")){var propNm=nm.charAt(3).toLowerCase()+nm.substr(4);if(!propMap||!propMap[propNm]){methodsNames.push(nm);}}else if(!/^_/.test(nm)){methodsNames.push(nm);}}}curCls._methodsNames=methodsNames;}return methodsNames;},setProperties:function(){var props=this._propertiesMap,val;if(arguments.length==1){var arg0=arguments[0];if(arg0){if(!arg0.length&&Eco.isObject(arg0)){for(var prop in arg0){if(arg0.hasOwnProperty(prop)){val=props[prop];if(val){this[val.setter](arg0[prop]);}}}}else if(arg0.length||Eco.isArray(arg0)){var propNames=this.getPropertiesNames();for(var i=0,len=arg0.length;i<len;i++ ){val=props[propNames[i]];this[val.setter](arg0[i]);}}}}else{var propNames=this.getPropertiesNames();for(var i=0,len=arguments.length;i<len;i++ ){val=props[propNames[i]];this[val.setter](arguments[i]);}}},callParent:function(args){var method=this.callParent.caller,curCls=method._thisOwner||this.constructor;if(!curCls){Eco.Logger.error("class 선언이 JsNamespaces.declareClass 함수를 이용하여 처리되지 않았습니다.");}var superCls=curCls._superClass;if(!superCls){Eco.Logger.error(curCls._className+"는 상속 되지 않은 Class입니다.");}var superMethod;while(superCls){superMethod=superCls[method._thisName];if(!superMethod){superMethod=superCls.prototype[method._thisName];}if(superMethod){break;}superCls=superCls._superClass;}if(!superMethod){Eco.Logger.error("this.callParent() was called but there's no such method ("+method._thisName+") found in the parent class ("+(superCls._className||'Object')+")");}return superMethod.apply(this,args);}},declareClass:function(className,defineData){if(!className||!className.length){return;}var pThis=this;var obj=pThis.getGlobalContext(),cache=pThis.namespaceCache,dummyCache=pThis.dummyNamespace,names=className.split('.'),len=names.length-1,leaf=names[len],i,nm,fullnm="";for(i=0;i<len;i++ ){nm=names[i];if(i==0){fullnm+=nm;}else{fullnm+="."+nm;}if(cache[fullnm]){obj=cache[fullnm];}else{if(!dummyCache[fullnm]){obj[nm]={};pThis.dummyNamespace[fullnm]=obj[nm];}obj=obj[nm];}}eval(className+" = function  ()\n"+"{\n"+"\tfor ( var nm in this._initVals )\n"+"\t{\n"+"\t\tif (this._initVals.hasOwnProperty(nm))\n"+"\t\t{\n"+"\t\t\tvar val = this._initVals[nm];\n"+"\t\t\tif ( val != null ) this[nm] = val;\n"+"\t\t}\n"+"\t}\n"+"\tvar ret = this.initialize.apply(this, arguments);\n"+"\treturn ret||this;\n"+"};");var cls=obj[leaf];pThis.namespaceCache[className]=cls;if(dummyCache[className]){var prop,dummy=dummyCache[className];for(prop in dummy){if(dummy.hasOwnProperty(prop)){if(!cls.hasOwnProperty(prop)){cls[prop]=dummy[prop];}}}delete dummyCache[className];}var proto=cls.prototype,isSuperCls=false,isDefineInitialize=false,pThis=this;if(defineData){var exStr=defineData["extends"];if(exStr){if(/^nexacro\./.test(exStr)){var paths=exStr.split("."),pCls=nexacro,i=1;while(pCls){pCls=pCls[paths[i]];i++ ;}if(i==paths.length-1){cls.prototype=pThis._create(pCls.prototype);cls.prototype.constructor=cls;proto=cls.prototype;isSuperCls=true;}}else{var pCls=pThis.namespaceCache[defineData["extends"]];if(pCls){cls.prototype=pThis._create(pCls.prototype);cls.prototype.constructor=cls;proto=cls.prototype;isSuperCls=true;}}}if(defineData.initialize){isDefineInitialize=true;}if(isSuperCls){cls.__inheritStatics=Eco.object.merge({},pCls.__inheritStatics||{});defineData.statics=Eco.object.merge({},defineData.statics||{},cls.__inheritStatics);}if(defineData.statics){Eco.object.copyProperties(cls,defineData.statics);}if(defineData.inheritStatics){Eco.object.copyProperties(cls,defineData.inheritStatics);cls.__inheritStatics=Eco.object.merge({},cls.__inheritStatics||{},defineData.inheritStatics);}if(isSuperCls){proto._initVals=Eco.object.merge({},proto._initVals);cls._superClass=pCls;}else{proto._initVals={};}if(defineData.properties){pThis._defineProperties(proto,defineData.properties,cls);}if(defineData.events){pThis._defineEvents(proto,defineData.events);}}if(!proto._initVals){proto._initVals={};}if(!proto["callParent"]){var classHelper=this._classHelper,func;for(var key in classHelper){if(key!="_className"&&classHelper.hasOwnProperty(key)){func=classHelper[key];proto[key]=func;if(!func._thisName){func._thisName=key;}if(!func._thisOwner){func._thisOwner=classHelper;}}}}Eco.object.Each(defineData,function(nm,val){if(nm=="properties"||nm=="statics"||nm=="inheritStatics"||nm=="events"||nm=="extends"){return;}if(Eco.isFunction(val)){this[nm]=val;}else{this._initVals[nm]=val;}},proto);if(!isDefineInitialize){proto.initialize=function(){return this;};}cls._className=className;pThis.setDebugInfo(className,cls);pThis.setDebugInfo(className,cls.prototype,cls);return cls;},_setDebugInfoForAddMethods:function(target,nms,owner){var targetVal;if(Eco.isString(nms)){targetVal=target[nms];if(Eco.isFunction(targetVal)){targetVal._thisName=nms;targetVal._thisOwner=owner;}}else if(Eco.isArray(nms)){for(var i=0,len=nms.length;i<len;i++ ){targetVal=target[nms[i]];if(Eco.isFunction(targetVal)){targetVal._thisName=nms[i];targetVal._thisOwner=owner;}}}},addMethods:function(list,Class,isStatic,func){var memberName,setDebugFunc=this._setDebugInfoForAddMethods;if(Eco.isArray(list)){if(isStatic){for(var i=0,len=list.length;i<len;i++ ){memberName=func.call(Class,list[i],i);setDebugFunc(Class,memberName,Class);}}else{var proto=Class.prototype;for(var i=0,len=list.length;i<len;i++ ){memberName=func.call(proto,list[i],i);setDebugFunc(proto,memberName,Class);}}}else if(Eco.isObject(list)){if(isStatic){for(var prop in list){if(list.hasOwnProperty(prop)){memberName=func.call(Class,prop,list[prop]);setDebugFunc(Class,memberName,Class);}}}else{var proto=Class.prototype;for(var prop in list){if(list.hasOwnProperty(prop)){memberName=func.call(proto,prop,list[prop]);setDebugFunc(proto,memberName,Class);}}}}},addProperties:function(list,Class,func,scope){var proto=Class.prototype,props={};if(Eco.isObject(list)){var flag=false;for(var prop in list){if(list.hasOwnProperty(prop)){flag=true;props[prop]=func.call(scope||this,prop,list[prop]);}}if(flag){this._defineProperties(proto,props,Class);}}},getGlobalContext:function(){var context;if(nexacro.Browser=="Runtime"){context=_global_context;}else{if(window&&(window._popup===true)){context=window;}else{context=_global_context;}}return context;}};}if(!JsNamespace.exist("Eco")){JsNamespace.declare("Eco",{isString:function(value){return typeof value==='string';},isNumber:function(value){return typeof value==='number'&&isFinite(value);},isBoolean:function(value){return typeof value=='boolean';},isNull:function(value){return value===null;},isUndefined:function(value){return value===undefined;},isObject:function(value){if(value===null||value===undefined){return false;}if(Eco.isXComponent(value)){return false;}if(value instanceof nexacro.Object){return false;}return typeof value=="object"&&'constructor' in value&&value.constructor===Object;},isArray:Array.isArray?function(value){return Array.isArray(value);}:function(value){return Eco._toString.call(value)==='[object Array]';},isError:function(e){return typeof e==='object'&&(Eco._toString.call(e)==='[object Error]'||e instanceof Error);},_toString:(Object.prototype.toString),_hasOwnProperty:(Object.prototype.hasOwnProperty),_isIE8Below:(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9),isDate:function(value){return Eco._toString.call(value)==='[object Date]';},isStringDate:function(value){var stringWrapper=new String(value);if(stringWrapper.toString().length!==8){return false;}var iMonth=Math.floor(stringWrapper.slice(4,6),10);var iDate=Math.floor(stringWrapper.slice(6,8),10);if(iMonth<1||iMonth>12){return false;}if(iDate<1||iDate>Eco.date.getLastDayOfMonth(stringWrapper)){return false;}return true;},isFunction:function(value){return Eco._toString.call(value)==='[object Function]';},isRegExp:function(value){return Eco._toString.call(value)==='[object RegExp]';},isPrimitive:function(value){return value===null||/^[usbn]/.test(typeof value);},isEmpty:function(value){if(value==null){return true;}if(Eco.isString(value)||Eco.isArray(value)){return value.length==0?true:false;}else if(Eco.isObject(value)){for(var p in value){if(value.hasOwnProperty(p)){return false;}}return true;}return false;},isXComponent:function(value){if(value===null||value===undefined){return false;}return value instanceof nexacro.Component;},isSpace:function(value){return value==' ';},clone:function(value,deep,exclude){if(Eco.isObject(value)||Eco.isArray(value)){var objectClone,chkFunc=Eco.array.indexOf;if(value.constructor==Array){objectClone=[];}else{objectClone={};}for(var property in value){if(value.hasOwnProperty(property)&&(!exclude||chkFunc(exclude,property)== -1)){if(!deep){objectClone[property]=value[property];}else if(typeof value[property]=='object'){objectClone[property]=Eco.clone(value[property],deep,exclude);}else{objectClone[property]=value[property];}}}return objectClone;}else if(Eco.isDate(value)){var dateClone=new Date();dateClone.setTime(value.getTime());return dateClone;}else if(Eco.isXComponent(value)){trace("[Eco.clone] TO-DO==> clone if nexacro Component");return null;}else if(Eco.isPrimitive(value)){return value;}else if(value&&(typeof value.clone=="function")){return value.clone();}else if(value&&value._className&&value._className.length){var clone=new value.constructor();var values=value.getPropertiesValues(),val,resetValues={};for(var i in values){if((exclude==null||Eco.array.indexOf(exclude,i)<0)){val=values[i];if(deep){resetValues[i]=Eco.clone(val,deep,exclude);}else{resetValues[i]=val;}}}clone.setProperties(resetValues);return clone;}else{return null;}},iif:function(expr,trueValue,falseValue){return expr?trueValue:falseValue;},decode:function(){var i;var count=arguments.length;for(i=1;i<count;i+=2){if(arguments[0]===arguments[i]){return arguments[i+1];}}return arguments[i-2];},_ALPHA_CHAR_CODES:[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],getUniqueId:function(prefix){if(Eco.isEmpty(prefix)){prefix="";}var pThis=Eco,charcode=pThis._ALPHA_CHAR_CODES,math=Math;var seq=0;var seq0;var tmpArray=new Array(36);var idx= -1;while(seq<8){tmpArray[ ++idx]=charcode[math.random()*16|0];seq++ ;}seq=0;while(seq<3){tmpArray[ ++idx]=45;seq0=0;while(seq0<4){tmpArray[ ++idx]=charcode[math.random()*16|0];seq0++ ;}seq++ ;}tmpArray[ ++idx]=45;var tmpStr=(new Date()).getTime();tmpStr=("0000000"+tmpStr.toString(16)).substr( -8);seq=0;while(seq<8){tmpArray[ ++idx]=tmpStr.charCodeAt(seq);seq++ ;}seq=0;while(seq<4){tmpArray[ ++idx]=charcode[math.random()*16|0];seq++ ;}return prefix+String.fromCharCode.apply(null,tmpArray);},getSequenceId:function(form,prefix){if(Eco.isEmpty(form)){Eco.Logger.error({message:"1st argument doesn't exist !!",stack:true});return null;}if(Eco.isEmpty(prefix)){Eco.Logger.error({message:"2nd argument doesn't exist !!",stack:true});return null;}if(!(form instanceof Form)){Eco.Logger.error({message:"1st argument must be a Form !!",stack:true});return null;}var cache=form._sequenceIdCache;if(Eco.isEmpty(cache)){cache=form._sequenceIdCache={};}var sequence=cache[prefix];if(Eco.isEmpty(sequence)){sequence= -1;}sequence++ ;cache[prefix]=sequence;return prefix+sequence;},"_checkKeys":function(o1,o2){for(var i in o1){if(o1.hasOwnProperty(i)&&typeof o2[i]==='undefined'){return false;}}return true;},"equals":function(obj1,obj2){if(obj1===obj2){return true;}if(Eco.isBoolean(obj1)&&obj2==null){obj2=!!obj2;return obj1==obj12;}if(Eco.isBoolean(obj2)&&obj1==null){obj1=!!obj1;return obj1==obj12;}if(obj1&&obj2){if(obj1.equals){return obj1.equals(obj2);}if(obj2.equals){return obj2.equals(obj1);}}if(Eco.isDate(obj1)&&Eco.isDate(obj2)){if(obj1.getTime()==obj2.getTime()){return true;}return false;}if(Eco.isArray(obj1)&&Eco.isArray(obj2)){if(obj1.length!==obj2.length){return false;}for(var i=0,l=obj1.length;i<l;i++ ){if(!Eco.equals(obj1[i],obj2[i])){return false;}}return true;}if(obj1&&(typeof obj1==='object')&&obj1.hasOwnProperty&&obj2&&(typeof obj2==='object')&&obj2.hasOwnProperty){if(!Eco._checkKeys(obj1,obj2)||!Eco._checkKeys(obj2,obj1)){return false;}for(var i in obj1){if(obj1.hasOwnProperty(i)&&!Eco.equals(obj1[i],obj2[i])){return false;}}return true;}return obj1==obj2;}});}if(!JsNamespace.exist("Eco.array")){var array=JsNamespace.declare("Eco.array",{Each:function(array,func,scope,reverse){var i,len=array.length;if(reverse!==true){for(i=0;i<len;i++ ){if(func.call(scope||array[i],array[i],i,array)===false){return i;}}}else{for(i=len-1;i> -1;i-- ){if(func.call(scope||array[i],array[i],i,array)===false){return i;}}}return true;},forEach:function(array,func,scope){var i,len=array.length;for(i=0;i<len;i++ ){func.call(scope,array[i],i,array);}},indexOf:function(array,item,from,strict){var len=array.length;if(from==null){from=0;};strict==!!strict;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}if(strict){for(;from<len;from++ ){if(array[from]===item){return from;}}}else{for(;from<len;from++ ){if(array[from]==item){return from;}}}return  -1;},lastIndexOf:function(array,item,from,strict){var i;if(from==null){from=array.length-1;}else if(from<0){from=Math.max(0,array.length+from);}var strict=strict||false;if(strict){for(i=from;i>=0;i-- ){if(array[i]===item){return i;}}}else{for(i=from;i>=0;i-- ){if(array[i]==item){return i;}}}return  -1;},contains:function(array,item,strict){if(Eco.array.indexOf(array,item,null,strict)=== -1){return false;}else{return true;}},toArray:function(iterant,start,end){if(!iterant||!iterant.length){return [];}if(Eco.isArray(iterant)){if(arguments.length==1){return iterant;}else if(arguments.length==2){return iterant.slice(start);}else{return iterant.slice(start,end);}}if(typeof iterant==="string"){iterant=iterant.split("");}var i,array=[],start=start||0;end=end?((end<0)?iterant.length+end:end):iterant.length;for(i=start;i<end;i++ ){array.push(iterant[i]);}return array;},map:function(array,func,scope){if(!func||!(typeof func==="function")){return;}var results=[],i=0,len=array.length;for(;i<len;i++ ){results[i]=func.call(scope,array[i],i,array);}return results;},every:function(array,func,scope){if(!func||!(typeof func==="function")){return;}var i=0,len=array.length;for(;i<len; ++i){if(!func.call(scope,array[i],i,array)){return false;}}return true;},some:function(array,func,scope){if(!func||!(typeof func==="function")){return;}var i=0,len=array.length;for(;i<len; ++i){if(func.call(scope,array[i],i,array)){return true;}}return false;},equals:function(array1,array2){var i,len1=array1.length,len2=array2.length;if(array1===array2){return true;}if(len1!==len2){return false;}for(i=0;i<len1; ++i){if(array1[i]!==array2[i]){return false;}}return true;},clean:function(array){var results=[],i=0,len=array.length,item;for(;i<len;i++ ){item=array[i];if(!Eco.isEmpty(item)){results.push(item);}}return results;},unique:function(array){var i=0,uniqueArray=[],len=array.length,item,findKey={},pThis=Eco.array;for(;i<len;i++ ){item=array[i];findKey[item]=item;}for(i in findKey){uniqueArray.push(findKey[i]);}return uniqueArray;},filter:function(array,func,scope){if(!func||!(typeof func==="function")){return;}var results=[],i=0,len=array.length;for(;i<len;i++ ){if(func.call(scope,array[i],i,array)){results.push(array[i]);}}return results;},insertAt:function(array,index,items){array.splice(index,0,items);},insertBefore:function(array,items,items2){var index=Eco.array.indexOf(array,items2);if(index== -1){array.push(items);}else{array.splice(index,0,items);}},removeAt:function(array,index){array.splice(index,1);},remove:function(array,item){var index=Eco.array.indexOf(array,item);if(index!== -1){array.splice(index,1);}},clone:function(array){return array.slice(0);},reduce:Array.prototype.reduce?function(arr,fn,initValue){return arr.reduce(fn,initValue);}:function(arr,fn,initValue){if(arr==null){Eco.Logger.info("arr is null or undefined !!");return;}if(typeof fn!=='function'){Eco.Logger.info("Type of fn is not function!!");return;}var len=arr.length>>>0,k=0,value;if(arguments.length==3){value=arguments[2];}else{while(k<len&&(arr[k]==null)){k++ ;}if(k>=len){Eco.Logger.info("Reduce of empty array with no initial value.");return;}value=arr[k++ ];}for(;k<len;k++ ){if(arr[k]!=null){value=fn(value,arr[k],k,arr);}}return value;},_rtnFlatten:[],flatten:function(array){_rtnFlatten=[];return Eco.array._flatten(array);},_flatten:function(array){var i,len,v,pThis=Eco.array;for(i=0,len=array.length;i<len;i++ ){v=array[i];if(Eco.isArray(v)){pThis._flatten(v);}else{_rtnFlatten.push(v);}}return _rtnFlatten;},max:function(array){return Math.max.apply(Math,array);},min:function(array){return Math.min.apply(Math,array);},sum:function(array,start,len){if(start==null){start=0;}if(len==null){len=array.length;}var sum=0;for(var i=start;i<len;sum+=array[i++ ]){}return sum;},exchange:function(array,from,to){if(array[from]&&array[to]){var remove1=array.splice(from,1,"");var remove2=array.splice(to,1,"");array.splice(from,1,remove2.pop());array.splice(to,1,remove1.pop());return true;}else{return false;}},move:function(array,from,to){var i,tmp;from=parseInt(from,10);to=parseInt(to,10);if(from!==to&&0<=from&&from<=array.length&&0<=to&&to<=array.length){tmp=array[from];if(from<to){for(i=from;i<to;i++ ){array[i]=array[i+1];}}else{for(i=from;i>to;i-- ){array[i]=array[i-1];}}array[to]=tmp;return true;}return false;},sortOn:function(array){var arr,i,args=[];arr=array.slice(0);if(!arguments.length){return arr.sort();}for(i=0;i<arguments.length;i++ ){args.push(arguments[i]);}return arr.sort(function(a,b){var compareProp,prop,i0,i1;compareProp=args.slice(0);prop=compareProp.shift();while(a[prop]==b[prop]&&compareProp.length){prop=compareProp.shift();}i0=a[prop];i1=b[prop];if(i0===undefined&&i1!==undefined){return 1;}else if(i0!==undefined&&i1===undefined){return  -1;}return i0==i1?0:i0>i1?1: -1;});},sortTwoDimensional:function(arr,sortOrders){return arr.sort(function(a,b){var len=sortOrders.length;for(var s=0;s<len;s++ ){if(sortOrders[s]=="ASC"){if(a[s]<b[s]){return  -1;}if(a[s]>b[s]){return 1;}}else if(sortOrders[s]=="DESC"){if(a[s]<b[s]){return 1;}if(a[s]>b[s]){return  -1;}}}return 0;});},indexOfProp:function(array,prop,item,from,strict){var len=array.length,from=Number(from)||0,strict=strict||false,obj,propValue;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}if(strict){for(;from<len;from++ ){if(from in array&&array[from]){obj=array[from],propValue=obj[prop];if(propValue===item){return from;}}}}else{for(;from<len;from++ ){if(from in array&&array[from]){obj=array[from],propValue=obj[prop];if(propValue==item){return from;}}}}return  -1;},lastIndexOfProp:function(array,prop,item,from,strict){var i,obj,propValue;if(from==null){from=array.length-1;}else if(from<0){from=Math.max(0,array.length+from);}var strict=strict||false;if(strict){for(i=from;i>=0;i-- ){if(i in array&&array[i]){obj=array[i],propValue=obj[prop];if(propValue===item){return i;}}}}else{for(i=from;i>=0;i-- ){if(i in array&&array[i]){obj=array[i],propValue=obj[prop];if(propValue==item){return i;}}}}return  -1;},difference:function(arr,arr1){var clone=Eco.array.clone(arr),cln=clone.length,i,j,arrLen;for(i=0,arrLen=arr1.length;i<arrLen;i++ ){for(j=0;j<cln;j++ ){if(clone[j]===arr1[i]){Eco.array.removeAt(clone,j);j-- ;cln-- ;}}}return clone;},arrayCopy:function(src,srcPos,dest,destPos,length){if(!length){return;}var cnt=length+srcPos;if(src==dest){src=src.slice(srcPos,cnt);cnt=src.length;for(var i=0,j=destPos;i<cnt;i++ ,j++ ){dest[j]=src[i];}}else{for(var i=srcPos,j=destPos;i<cnt;i++ ,j++ ){dest[j]=src[i];}}},_defaultCompare:function(a,b){if(a!=null){if(b!=null){if(a==b){return 0;}if(a>b){return 1;}}return  -1;}if(b!=null){return 1;}return 0;},binarySearch:function(arr,start,len,item,compareFn){if(!compareFn){compareFn=Eco.array._defaultCompare;}var high=start+len-1,low=start;while(low<=high){var i=low+((high-low)>>1);var order=compareFn(arr[i],item);if(order==0){return i;}if(order<0){low=i+1;}else{high=i-1;}}return ~low;}});}if(!JsNamespace.exist("Eco.date")){JsNamespace.declare("Eco.date",{weekName:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],weekShortName:["일","월","화","수","목","금","토"],monthName:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],monthShortName:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],ttName:["오전","오후"],addDate:function(value,offset){var dt;if(Eco.isDate(value)){dt=new Date();dt.setFullYear(value.getFullYear(),value.getMonth(),value.getDate()+offset);dt.setHours(value.getHours(),value.getMinutes(),value.getSeconds());dt.setMilliseconds(value.getMilliseconds());return dt;}else{dt=new Date();dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2)-1),parseInt(value.substr(6,2))+offset);dt.setHours(0,0,0);dt.setMilliseconds(0);return Eco.date.getMaskFormatString(dt,"yyyyMMdd");}},addMonth:function(value,offset){var pThis=Eco.date;var dt;if(Eco.isDate(value)){var nTmpday=value.getDate();dt=new Date();dt.setFullYear(value.getFullYear(),value.getMonth()+offset,value.getDate());dt.setHours(value.getHours(),value.getMinutes(),value.getSeconds());dt.setMilliseconds(value.getMilliseconds());if(dt.getDate()!=nTmpday){dt.setMonth(dt.getMonth()-1);dt.setDate(pThis.getLastDayOfMonth(dt));}return dt;}else{var nTmpday=parseInt(value.substr(6,2));dt=new Date();dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2)-1)+offset,nTmpday);dt.setHours(0,0,0);dt.setMilliseconds(0);if(dt.getDate()!=nTmpday){dt.setMonth(dt.getMonth()-1);dt.setDate(pThis.getLastDayOfMonth(dt));}return pThis.getMaskFormatString(dt,"yyyyMMdd");}},getDiffDay:function(fromDate,toDate){var pThis=Eco.date;if(Eco.isString(fromDate)&&Eco.isString(toDate)){fromDate=new Date(parseInt(fromDate.substring(0,4),10),parseInt(fromDate.substring(4,6)-1,10),parseInt(fromDate.substring(6,8),10));toDate=new Date(parseInt(toDate.substring(0,4),10),parseInt(toDate.substring(4,6)-1,10),parseInt(toDate.substring(6,8),10));}var flag=1,nDay;if(fromDate>toDate){flag= -1;var tmpDt=toDate;toDate=fromDate;fromDate=tmpDt;}if(fromDate.getFullYear()!=toDate.getFullYear()){nDay=(pThis.isLeapYear(fromDate.getFullYear())?366:365)-pThis.getDayOfYear(fromDate)+pThis.getDayOfYear(toDate);var nYear=fromDate.getFullYear();while(nYear++ <toDate.getFullYear()-1){nDay=nDay+(pThis.isLeapYear(nYear)?366:365);}}else{nDay=pThis.getDayOfYear(toDate)-pThis.getDayOfYear(fromDate);}return nDay*flag;},getDiffMonth:function(fromDate,toDate){var pThis=Eco.date;if(Eco.isString(fromDate)&&Eco.isString(toDate)){fromDate=new Date(parseInt(fromDate.substring(0,4),10),parseInt(fromDate.substring(4,6)-1,10),parseInt(fromDate.substring(6,8),10));toDate=new Date(parseInt(toDate.substring(0,4),10),parseInt(toDate.substring(4,6)-1,10),parseInt(toDate.substring(6,8),10));}var flag=1,nMonth,nDay;if(fromDate>toDate){flag= -1;var tmpDt=toDate;toDate=fromDate;fromDate=tmpDt;}if(fromDate.getDate()==1){nMonth=1;nDay=0;}else{nMonth=0;var lastday=pThis.getLastDayOfMonth(fromDate);nDay=Math.floor((lastday-fromDate.getDate()+1)/lastday,2);}if(toDate.getDate()==pThis.getLastDayOfMonth(toDate)){nMonth+=1;}else{nDay+=Math.floor(toDate.getDate()/pThis.getLastDayOfMonth(toDate),2);}if(fromDate.getFullYear()!=toDate.getFullYear()){nMonth+=12-(fromDate.getMonth()+1)+toDate.getMonth();var nYear=fromDate.getFullYear();while(nYear++ <toDate.getFullYear()-1){nMonth=nMonth+12;}}else{nMonth+=toDate.getMonth()-(fromDate.getMonth()+1);}return (nMonth+nDay)*flag;},getLastDayOfMonth:function(value){var nMonth,nLastDate;if(Eco.isDate(value)){nMonth=value.getMonth()+1;}else{nMonth=parseInt(value.substr(4,2),10);}if(nMonth==1||nMonth==3||nMonth==5||nMonth==7||nMonth==8||nMonth==10||nMonth==12){nLastDate=31;}else if(nMonth==2){if(Eco.date.isLeapYear(value)==true){nLastDate=29;}else{nLastDate=28;}}else{nLastDate=30;}return nLastDate;},getWeekOfYear:function(date){if(Eco.isString(date)){date=this.strToDate(date);}if(!Eco.isDate(date)){return  -1;}var onejan=new Date();onejan.setYear(date.getFullYear());onejan.setMonth(0);onejan.setDate(1);return Math.ceil((((date-onejan)/86400000)+onejan.getDay()+1)/7);},_dayOfYearOffset:[0,31,31+28,31+28+31,31+28+31+30,31+28+31+30+31,31+28+31+30+31+30,31+28+31+30+31+30+31,31+28+31+30+31+30+31+31,31+28+31+30+31+30+31+31+30,31+28+31+30+31+30+31+31+30+31,31+28+31+30+31+30+31+31+30+31+30],getDayOfYear:function(date){var pThis=Eco.date;if(Eco.isString(date)){date=pThis.strToDate(date);}if(!Eco.isDate(date)){Eco.Logger.error({"message":"invalid date","stack":true});}var nDay=pThis._dayOfYearOffset[date.getMonth()]+date.getDate();if(pThis.isLeapYear(date.getFullYear())){nDay=nDay+1;}return nDay;},strToDate:function(value){var dt=new Date();if(value.length==4){dt.setFullYear(parseInt(value),0,0);dt.setHours(0,0,0);dt.setMilliseconds(0);}else if(value.length==6){dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,0);dt.setHours(0,0,0);dt.setMilliseconds(0);}else if(value.length==8){dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,parseInt(value.substr(6,2)));dt.setHours(0,0,0);dt.setMilliseconds(0);}else if(value.length==10){dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,parseInt(value.substr(6,2)));dt.setHours(parseInt(value.substr(8,2)),0,0);dt.setMilliseconds(0);}else if(value.length==12){dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,parseInt(value.substr(6,2)));dt.setHours(parseInt(value.substr(8,2)),parseInt(value.substr(10,2)),0);dt.setMilliseconds(0);}else if(value.length==14){dt.setFullYear(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,parseInt(value.substr(6,2)));dt.setHours(parseInt(value.substr(8,2)),parseInt(value.substr(10,2)),parseInt(value.substr(12,2)));dt.setMilliseconds(0);}return dt;},isLeapYear:function(value){var result;var year;if(Eco.isString(value)){year=parseInt(value.substring(0,4),10);}if((year%4)==0){if((year%100)!=0||(year%400)==0){result=true;}else{result=false;}}else{result=false;}return result;},solarBase:(function(){var sBase;sBase="1,2,4,1,1,2,1,2,1,2,2,1,";sBase+="2,2,1,2,1,1,2,1,2,1,2,1,";sBase+="2,2,2,1,2,1,4,1,2,1,2,1,";sBase+="2,2,1,2,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,2,1,2,1,2,1,2,1,";sBase+="2,1,2,1,5,2,1,2,2,1,2,1,";sBase+="2,1,1,2,1,2,1,2,2,2,1,2,";sBase+="1,2,1,1,2,1,2,1,2,2,2,1,";sBase+="2,1,2,3,2,1,2,1,2,1,2,2,";sBase+="2,1,2,1,1,2,1,1,2,2,1,2,";sBase+="2,2,1,2,1,1,2,1,2,1,5,2,";sBase+="2,1,2,2,1,1,2,1,2,1,1,2,";sBase+="2,1,2,2,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,1,2,5,2,1,2,1,2,";sBase+="1,1,2,1,2,2,1,2,2,1,2,1,";sBase+="2,1,1,2,1,2,1,2,2,2,1,2,";sBase+="1,2,1,1,5,2,1,2,1,2,2,2,";sBase+="1,2,1,1,2,1,1,2,2,1,2,2,";sBase+="2,1,2,1,1,2,1,1,2,1,2,2,";sBase+="2,1,6,1,1,2,1,1,2,1,2,2,";sBase+="1,2,2,1,2,1,2,1,2,1,1,2,";sBase+="2,1,2,1,2,2,1,2,2,3,1,2,";sBase+="1,2,2,1,2,1,2,2,1,2,1,2,";sBase+="1,1,2,1,2,1,2,2,1,2,2,1,";sBase+="2,1,1,2,4,1,2,2,1,2,2,1,";sBase+="2,1,1,2,1,1,2,2,1,2,2,2,";sBase+="1,2,1,1,2,1,1,2,1,2,2,2,";sBase+="1,2,2,3,2,1,1,2,1,2,2,1,";sBase+="2,2,2,1,1,2,1,1,2,1,2,1,";sBase+="2,2,2,1,2,1,2,1,1,5,2,1,";sBase+="2,2,1,2,2,1,2,1,2,1,1,2,";sBase+="1,2,1,2,2,1,2,1,2,2,1,2,";sBase+="1,1,2,1,2,4,2,1,2,2,1,2,";sBase+="1,1,2,1,2,1,2,1,2,2,2,1,";sBase+="2,1,1,2,1,1,2,1,2,2,2,1,";sBase+="2,2,1,1,5,1,2,1,2,2,1,2,";sBase+="2,2,1,1,2,1,1,2,1,2,1,2,";sBase+="2,2,1,2,1,2,1,1,2,1,2,1,";sBase+="2,2,4,2,1,2,1,1,2,1,2,1,";sBase+="2,1,2,2,1,2,2,1,2,1,1,2,";sBase+="1,2,1,2,1,2,5,2,2,1,2,1,";sBase+="1,2,1,2,1,2,1,2,2,1,2,2,";sBase+="1,1,2,1,1,2,1,2,2,2,1,2,";sBase+="2,1,1,2,3,2,1,2,2,1,2,2,";sBase+="2,1,1,2,1,1,2,1,2,1,2,2,";sBase+="2,1,2,1,2,1,1,2,1,2,1,2,";sBase+="2,2,1,5,2,1,1,2,1,2,1,2,";sBase+="2,1,2,2,1,2,1,1,2,1,2,1,";sBase+="2,1,2,2,1,2,1,2,1,2,1,2,";sBase+="1,5,2,1,2,2,1,2,1,2,1,2,";sBase+="1,2,1,2,1,2,1,2,2,1,2,2,";sBase+="1,1,2,1,1,5,2,2,1,2,2,2,";sBase+="1,1,2,1,1,2,1,2,1,2,2,2,";sBase+="1,2,1,2,1,1,2,1,2,1,2,2,";sBase+="2,1,2,1,5,1,2,1,2,1,2,1,";sBase+="2,2,2,1,2,1,1,2,1,2,1,2,";sBase+="1,2,2,1,2,1,2,1,2,1,2,1,";sBase+="2,1,5,2,2,1,2,1,2,1,2,1,";sBase+="2,1,2,1,2,1,2,2,1,2,1,2,";sBase+="1,2,1,1,2,1,2,5,2,2,1,2,";sBase+="1,2,1,1,2,1,2,1,2,2,2,1,";sBase+="2,1,2,1,1,2,1,2,1,2,2,2,";sBase+="1,2,1,2,3,2,1,1,2,2,1,2,";sBase+="2,2,1,2,1,1,2,1,1,2,2,1,";sBase+="2,2,1,2,2,1,1,2,1,2,1,2,";sBase+="1,2,2,4,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,1,2,2,1,2,1,2,1,";sBase+="2,1,1,2,2,1,2,1,2,2,1,2,";sBase+="1,5,1,2,1,2,1,2,2,2,1,2,";sBase+="1,2,1,1,2,1,2,1,2,2,2,1,";sBase+="2,1,2,1,1,5,1,2,2,1,2,2,";sBase+="2,1,2,1,1,2,1,1,2,2,1,2,";sBase+="2,2,1,2,1,1,2,1,1,2,1,2,";sBase+="2,2,1,2,5,1,2,1,2,1,1,2,";sBase+="2,1,2,2,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,1,2,2,1,2,1,2,1,";sBase+="2,3,2,1,2,2,1,2,2,1,2,1,";sBase+="2,1,1,2,1,2,1,2,2,2,1,2,";sBase+="1,2,1,1,2,1,5,2,2,1,2,2,";sBase+="1,2,1,1,2,1,1,2,2,1,2,2,";sBase+="2,1,2,1,1,2,1,1,2,1,2,2,";sBase+="2,1,2,2,3,2,1,1,2,1,2,2,";sBase+="1,2,2,1,2,1,2,1,2,1,1,2,";sBase+="2,1,2,1,2,2,1,2,1,2,1,1,";sBase+="2,1,2,5,2,1,2,2,1,2,1,2,";sBase+="1,1,2,1,2,1,2,2,1,2,2,1,";sBase+="2,1,1,2,1,2,1,2,2,1,2,2,";sBase+="1,5,1,2,1,1,2,2,1,2,2,2,";sBase+="1,2,1,1,2,1,1,2,1,2,2,2,";sBase+="1,2,2,1,1,5,1,2,1,2,2,1,";sBase+="2,2,2,1,1,2,1,1,2,1,2,1,";sBase+="2,2,2,1,2,1,2,1,1,2,1,2,";sBase+="1,2,2,1,6,1,2,1,2,1,1,2,";sBase+="1,2,1,2,2,1,2,2,1,2,1,2,";sBase+="1,1,2,1,2,1,2,2,1,2,2,1,";sBase+="2,1,4,1,2,1,2,1,2,2,2,1,";sBase+="2,1,1,2,1,1,2,1,2,2,2,1,";sBase+="2,2,1,1,2,1,4,1,2,2,1,2,";sBase+="2,2,1,1,2,1,1,2,1,2,1,2,";sBase+="2,2,1,2,1,2,1,1,2,1,2,1,";sBase+="2,2,1,2,2,4,1,1,2,1,2,1,";sBase+="2,1,2,2,1,2,2,1,2,1,1,2,";sBase+="1,2,1,2,1,2,2,1,2,2,1,2,";sBase+="1,1,2,4,1,2,1,2,2,1,2,2,";sBase+="1,1,2,1,1,2,1,2,2,2,1,2,";sBase+="2,1,1,2,1,1,2,1,2,2,1,2,";sBase+="2,5,1,2,1,1,2,1,2,1,2,2,";sBase+="2,1,2,1,2,1,1,2,1,2,1,2,";sBase+="2,2,1,2,1,2,3,2,1,2,1,2,";sBase+="2,1,2,2,1,2,1,1,2,1,2,1,";sBase+="2,1,2,2,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,4,2,1,2,1,2,1,2,";sBase+="1,2,1,1,2,2,1,2,2,1,2,2,";sBase+="1,1,2,1,1,2,1,2,2,1,2,2,";sBase+="2,1,4,1,1,2,1,2,1,2,2,2,";sBase+="1,2,1,2,1,1,2,1,2,1,2,2,";sBase+="2,1,2,1,2,1,1,5,2,1,2,2,";sBase+="1,2,2,1,2,1,1,2,1,2,1,2,";sBase+="1,2,2,1,2,1,2,1,2,1,2,1,";sBase+="2,1,2,1,2,5,2,1,2,1,2,1,";sBase+="2,1,2,1,2,1,2,2,1,2,1,2,";sBase+="1,2,1,1,2,1,2,2,1,2,2,1,";sBase+="2,1,2,3,2,1,2,1,2,2,2,1,";sBase+="2,1,2,1,1,2,1,2,1,2,2,2,";sBase+="1,2,1,2,1,1,2,1,1,2,2,1,";sBase+="2,2,5,2,1,1,2,1,1,2,2,1,";sBase+="2,2,1,2,2,1,1,2,1,2,1,2,";sBase+="1,2,2,1,2,1,5,2,1,2,1,2,";sBase+="1,2,1,2,1,2,2,1,2,1,2,1,";sBase+="2,1,1,2,2,1,2,1,2,2,1,2,";sBase+="1,2,1,1,5,2,1,2,2,2,1,2,";sBase+="1,2,1,1,2,1,2,1,2,2,2,1,";sBase+="2,1,2,1,1,2,1,1,2,2,2,1,";sBase+="2,2,1,5,1,2,1,1,2,2,1,2,";sBase+="2,2,1,2,1,1,2,1,1,2,1,2,";sBase+="2,2,1,2,1,2,1,5,2,1,1,2,";sBase+="2,1,2,2,1,2,1,2,1,2,1,1,";sBase+="2,2,1,2,1,2,2,1,2,1,2,1,";sBase+="2,1,1,2,1,6,1,2,2,1,2,1,";sBase+="2,1,1,2,1,2,1,2,2,1,2,2,";sBase+="1,2,1,1,2,1,1,2,2,1,2,2,";sBase+="2,1,2,3,2,1,1,2,2,1,2,2,";sBase+="2,1,2,1,1,2,1,1,2,1,2,2,";sBase+="2,1,2,2,1,1,2,1,1,5,2,2,";sBase+="1,2,2,1,2,1,2,1,1,2,1,2,";sBase+="1,2,2,1,2,2,1,2,1,2,1,1,";sBase+="2,1,2,2,1,5,2,2,1,2,1,2,";sBase+="1,1,2,1,2,1,2,2,1,2,2,1,";sBase+="2,1,1,2,1,2,1,2,2,1,2,2,";sBase+="1,2,1,1,5,1,2,1,2,2,2,2,";sBase+="1,2,1,1,2,1,1,2,1,2,2,2,";sBase+="1,2,2,1,1,2,1,1,2,1,2,2,";sBase+="1,2,5,2,1,2,1,1,2,1,2,1,";sBase+="2,2,2,1,2,1,2,1,1,2,1,2,";sBase+="1,2,2,1,2,2,1,5,2,1,1,2,";sBase+="1,2,1,2,2,1,2,1,2,2,1,2,";sBase+="1,1,2,1,2,1,2,2,1,2,2,1,";sBase+="2,1,1,2,3,2,2,1,2,2,2,1,";sBase+="2,1,1,2,1,1,2,1,2,2,2,1,";sBase+="2,2,1,1,2,1,1,2,1,2,2,1,";sBase+="2,2,2,3,2,1,1,2,1,2,1,2,";sBase+="2,2,1,2,1,2,1,1,2,1,2,1,";sBase+="2,2,1,2,2,1,2,1,1,2,1,2,";sBase+="1,5,2,2,1,2,1,2,2,1,1,2,";sBase+="1,2,1,2,1,2,2,1,2,2,1,2,";sBase+="1,1,2,1,2,1,5,2,2,1,2,2,";sBase+="1,1,2,1,1,2,1,2,2,2,1,2,";sBase+="2,1,1,2,1,1,2,1,2,2,1,2,";sBase+="2,2,1,1,5,1,2,1,2,1,2,2,";sBase+="2,1,2,1,2,1,1,2,1,2,1,2,";sBase+="2,1,2,2,1,2,1,1,2,1,2,1,";sBase+="2,1,6,2,1,2,1,1,2,1,2,1,";sBase+="2,1,2,2,1,2,1,2,1,2,1,2,";sBase+="1,2,1,2,1,2,1,2,5,2,1,2,";sBase+="1,2,1,1,2,1,2,2,2,1,2,2,";sBase+="1,1,2,1,1,2,1,2,2,1,2,2,";sBase+="2,1,1,2,3,2,1,2,1,2,2,2,";sBase+="1,2,1,2,1,1,2,1,2,1,2,2,";sBase+="2,1,2,1,2,1,1,2,1,2,1,2,";sBase+="2,1,2,5,2,1,1,2,1,2,1,2,";sBase+="1,2,2,1,2,1,2,1,2,1,2,1,";sBase+="2,1,2,1,2,2,1,2,1,2,1,2,";sBase+="1,5,2,1,2,1,2,2,1,2,1,2,";sBase+="1,2,1,1,2,1,2,2,1,2,2,1,";sBase+="2,1,2,1,1,5,2,1,2,2,2,1,";sBase+="2,1,2,1,1,2,1,2,1,2,2,2,";sBase+="1,2,1,2,1,1,2,1,1,2,2,2,";sBase+="1,2,2,1,5,1,2,1,1,2,2,1,";sBase+="2,2,1,2,2,1,1,2,1,1,2,2,";sBase+="1,2,1,2,2,1,2,1,2,1,2,1,";sBase+="2,1,5,2,1,2,2,1,2,1,2,1,";sBase+="2,1,1,2,1,2,2,1,2,2,1,2,";sBase+="1,2,1,1,2,1,5,2,2,2,1,2,";sBase+="1,2,1,1,2,1,2,1,2,2,2,1,";sBase+="2,1,2,1,1,2,1,1,2,2,1,2,";sBase+="2,2,1,2,1,4,1,1,2,1,2,2,";sBase+="2,2,1,2,1,1,2,1,1,2,1,2,";sBase+="2,2,1,2,1,2,1,2,1,1,2,1,";sBase+="2,2,1,2,5,2,1,2,1,2,1,1,";sBase+="2,1,2,2,1,2,2,1,2,1,2,1,";sBase+="2,1,1,2,1,2,2,1,2,2,1,2,";sBase+="1,5,1,2,1,2,1,2,2,2,1,2,";sBase+="1,2,1,1,2,1,1,2,2,1,2,2";var arrBase=[];arrBase=sBase.split(",");return arrBase;})(),solarToLunar:function(value){var sMd="31,0,31,30,31,30,31,31,30,31,30,31";var arrMd=[];var arrBaseInfo=[];var arrDt=[];var nTd;var nTd1;var nTd2;var nTemp;var nLy,nLm,nLd;var sLyoon;var nY,nM,nD;if(Eco.isDate(value)){nY=value.getFullYear();nM=value.getMonth()+1;nD=value.getDate();}else{nY=parseInt(value.substr(0,4),10);nM=parseInt(value.substr(4,2),10);nD=parseInt(value.substr(6,2),10);}if(nY<1841||nY>2043){return null;}arrBaseInfo=this.solarBase;arrMd=sMd.split(",");arrMd[1]=28;if((nY%4)==0){if((nY%100)!=0||(nY%400)==0){arrMd[1]=29;}}nTd1=672069;nTd2=(nY-1)*365+parseInt((nY-1)/4)-parseInt((nY-1)/100)+parseInt((nY-1)/400);for(var i=0;i<=nM-2;i++ ){nTd2=nTd2+parseInt(arrMd[i]);}nTd2=nTd2+nD;nTd=nTd2-nTd1+1;for(var i=0;i<=nY-1841;i++ ){arrDt[i]=0;for(var j=0;j<=11;j++ ){switch(parseInt(arrBaseInfo[i*12+j])){case 1:nTemp=29;break;case 2:nTemp=30;break;case 3:nTemp=58;break;case 4:nTemp=59;break;case 5:nTemp=59;break;case 6:nTemp=60;break;}arrDt[i]=arrDt[i]+nTemp;}}nLy=0;do{nTd=nTd-arrDt[nLy];nLy=nLy+1;}while(nTd>arrDt[nLy])nLm=0;sLyoon="0";do{if(parseInt(arrBaseInfo[nLy*12+nLm])<=2){nTemp=parseInt(arrBaseInfo[nLy*12+nLm])+28;if(nTd>nTemp){nTd=nTd-nTemp;nLm=nLm+1;}else{break;}}else{switch(parseInt(arrBaseInfo[nLy*12+nLm])){case 3:m1=29;m2=29;break;case 4:m1=29;m2=30;break;case 5:m1=30;m2=29;break;case 6:m1=30;m2=30;break;}if(nTd>m1){nTd=nTd-m1;if(nTd>m2){nTd=nTd-m2;nLm=nLm+1;}else{sLyoon="1";}}else{break;}}}while(1)nLy=nLy+1841;nLm=nLm+1;nLd=nTd;var sRtn=sLyoon+nLy;sRtn=sRtn+nLm.toString().padLeft(2,"0");sRtn=sRtn+nLd.toString().padLeft(2,"0");return sRtn;},lunarToSolar:function(value,leapMonth){var pThis=Eco.date;var sMd="31,0,31,30,31,30,31,31,30,31,30,31";var arrMd=[];var arrBaseInfo=[];var nTd=0;var nSy,nSm,nSd;var nY1,nM1,nY2,nY3,nTemp;var nLeap;var nLy,nLm,nLd;if(Eco.isDate(value)){nLy=value.getFullYear();nLm=value.getMonth()+1;nLd=value.getDate();}else{nLy=parseInt(value.substr(0,4),10);nLm=parseInt(value.substr(4,2),10);nLd=parseInt(value.substr(6,2),10);}if(nLy<1841||nLy>2043){return null;}arrBaseInfo=pThis.solarBase;arrMd=sMd.split(",");arrMd[1]=28;if((nLy%4)==0){if((nLy%100)!=0||(nLy%400)==0){arrMd[1]=29;}}nY1=nLy-1841;nM1=nLm-1;nLeap=0;if(parseInt(arrBaseInfo[nY1*12+nM1])>2){if((nLy%4)==0){if((nLy%100)!=0||(nLy%400)==0){nLeap=1;}}}if(nLeap==1){switch(parseInt(arrBaseInfo[nY1*12+nM1])){case 3:nTemp=29;break;case 4:nTemp=30;break;case 5:nTemp=29;break;case 6:nTemp=30;break;}}else{switch(parseInt(arrBaseInfo[nY1*12+nM1])){case 1:nTemp=29;break;case 2:nTemp=30;break;case 3:nTemp=29;break;case 4:nTemp=29;break;case 5:nTemp=30;break;case 6:nTemp=30;break;}}var tempY1=nY1-1;for(var i=0;i<=tempY1;i++ ){for(var j=0;j<=11;j++ ){switch(parseInt(arrBaseInfo[i*12+j])){case 1:nTd=nTd+29;break;case 2:nTd=nTd+30;break;case 3:nTd=nTd+58;break;case 4:nTd=nTd+59;break;case 5:nTd=nTd+59;break;case 6:nTd=nTd+60;break;}}}var tempM1=nM1-1;for(var j=0;j<=tempM1;j++ ){switch(parseInt(arrBaseInfo[nY1*12+j])){case 1:nTd=nTd+29;break;case 2:nTd=nTd+30;break;case 3:nTd=nTd+58;break;case 4:nTd=nTd+59;break;case 5:nTd=nTd+59;break;case 6:nTd=nTd+60;break;}}if(nLeap==1){switch(parseInt(arrBaseInfo[nY1*12+nM1])){case 3:nTemp=29;break;case 4:nTemp=29;break;case 5:nTemp=30;break;case 6:nTemp=30;break;}}nTd=nTd+nLd+22;if(leapMonth){switch(parseInt(arrBaseInfo[nY1*12+nM1])){case 3:nTd=nTd+29;break;case 4:nTd=nTd+30;break;case 5:nTd=nTd+29;break;case 6:nTd=nTd+30;break;}}nY1=1840;do{nY1=nY1+1;nLeap=0;if((nY1%4)==0){if((nY1%100)!=0||(nY1%400)==0){nLeap=1;}}if(nLeap==1){nY2=366;}else{nY2=365;}if(nTd<=nY2){break;}nTd=nTd-nY2;}while(1)nSy=nY1;arrMd[1]=nY2-337;nM1=0;do{nM1=nM1+1;if(nTd<=parseInt(arrMd[nM1-1])){break;}nTd=nTd-parseInt(arrMd[nM1-1]);}while(1)nSm=nM1;nSd=nTd;nY3=nSy;nTd=nY3*365+parseInt(nY3/4)-parseInt(nY3/100)+parseInt(nY3/400);var tempSm=nSm-1;for(var i=0;i<=tempSm;i++ ){nTd=nTd+parseInt(arrMd[i]);}nTd=nTd+nSd;var sRtn=nY3;sRtn=sRtn+nSm.toString().padLeft(2,"0");sRtn=sRtn+nSd.toString().padLeft(2,"0");return sRtn;},getFirstDate:function(value){if(Eco.isDate(value)){var dt=new Date();dt.setFullYear(value.getFullYear(),value.getMonth(),1);dt.setHours(value.getHours(),value.getMinutes(),value.getSeconds());dt.setMilliseconds(value.getMilliseconds());return dt;}else{var sRtn="";var dDate=new Date(parseInt(value.substr(0,4)),parseInt(value.substr(4,2))-1,1);sRtn=dDate.getFullYear()+(dDate.getMonth()+1).toString().padLeft(2,"0")+dDate.getDate().toString().padLeft(2,"0");return sRtn;}},getDiffTime:function(date1,date2){var dFrom,dTo;if(Eco.isDate(date1)&&Eco.isDate(date2)){dFrom=date2;dTo=date1;}else{dFrom=new Date(date2.substring(0,4),date2.substring(4,6)-1,date2.substring(6,8),date2.substring(8,10),date2.substring(10,12),date2.substring(12,14));dTo=new Date(date1.substring(0,4),date1.substring(4,6)-1,date1.substring(6,8),date1.substring(8,10),date1.substring(10,12),date1.substring(12,14));}var nGap=(dFrom.getTime()-dTo.getTime())/1000;var nSec=nGap%60;var nMin=Math.floor(nGap/(60))%60;var nHour=Math.floor(nGap/(60*60))%24;var nDay=Math.floor(nGap/(60*60*24));var sRtn=nDay+""+nHour+""+nMin+""+nSec+"";return [nDay,nHour,nMin,nSec];},_dateMaskCache:{},_parseDateMask:function(strMask){var pThis=Eco.date;var res=pThis._dateMaskCache[strMask];if(res){return res;}var arrMask=[],tokenStr,seq=0,bEscape=false,bQuote=false,maskArr=strMask.split(""),tmpStr;for(var i=0,len=maskArr.length;i<len;){tokenStr=maskArr[i];if(bEscape==false&&tokenStr=="'"){if(bQuote==false){bQuote=true;}else{bQuote=false;}i++ ;continue;}if(bEscape==false&&tokenStr=="\\"&&!bQuote){bEscape=true;i++ ;continue;}else if(bEscape){arrMask[seq]=i;seq++ ;bEscape=false;}else if(bQuote==false){tmpStr=strMask.substr(i,4);if(tmpStr=="yyyy"||tmpStr=="MMMM"||tmpStr=="dddd"){arrMask[seq]=tmpStr;i+=4;seq++ ;continue;}tmpStr=strMask.substr(i,3);if(tmpStr=="MMM"||tmpStr=="ddd"||tmpStr=="sss"){arrMask[seq]=tmpStr;i+=3;seq++ ;continue;}tmpStr=strMask.substr(i,2);if(tmpStr=="yy"||tmpStr=="MM"||tmpStr=="dd"||tmpStr=="HH"||tmpStr=="mm"||tmpStr=="ss"||tmpStr=="hh"||tmpStr=="tt"||tmpStr=="tt"){arrMask[seq]=tmpStr;i+=2;seq++ ;continue;}if(tokenStr=="M"||tokenStr=="d"||tokenStr=="H"||tokenStr=="h"||tokenStr=="m"||tokenStr=="s"||tokenStr=="W"){arrMask[seq]=tokenStr;seq++ ;}else{arrMask[seq]=i;seq++ ;}}i++ ;}pThis._dateMaskCache[strMask]=arrMask;return arrMask;},getMaskFormatString:function(dt,strMask){var pThis=Eco.date;var arrMask=pThis._parseDateMask(strMask),arrDt=[],mask,h;for(var i=0,len=arrMask.length;i<len;i++ ){mask=arrMask[i];if(mask> -1){arrDt[arrDt.length]=strMask.charAt(mask);}else{switch(mask){case "yyyy":arrDt[arrDt.length]=new String(dt.getFullYear());break;case "MMMM":arrDt[arrDt.length]=pThis.monthName[dt.getMonth()];break;case "dddd":arrDt[arrDt.length]=pThis.weekName[dt.getDay()];break;case "MMM":arrDt[arrDt.length]=pThis.monthShortName[dt.getMonth()];break;case "ddd":arrDt[arrDt.length]=pThis.weekShortName[dt.getDay()];break;case "sss":arrDt[arrDt.length]=new String(dt.getMilliseconds()).padLeft(3,'0');break;case "yy":arrDt[arrDt.length]=new String(dt.getFullYear()%1000).padLeft(2,'0');break;case "MM":arrDt[arrDt.length]=new String(dt.getMonth()+1).padLeft(2,'0');break;case "WW":arrDt[arrDt.length]=new String(getWeekNumber(dt)).padLeft(2,'0');break;case "dd":arrDt[arrDt.length]=new String(dt.getDate()).padLeft(2,'0');break;case "HH":arrDt[arrDt.length]=new String(dt.getHours()).padLeft(2,'0');break;case "hh":arrDt[arrDt.length]=new String(((h=dt.getHours()%12)?h:12)).padLeft(2,'0');break;case "mm":arrDt[arrDt.length]=new String(dt.getMinutes()).padLeft(2,'0');break;case "ss":arrDt[arrDt.length]=new String(dt.getSeconds()).padLeft(2,'0');break;case "tt":arrDt[arrDt.length]=dt.getHours()<12?pThis.ttName[0]:pThis.ttName[1];break;case "M":arrDt[arrDt.length]=new String(dt.getMonth()+1);break;case "d":arrDt[arrDt.length]=new String(dt.getDate());break;case "H":arrDt[arrDt.length]=new String(dt.getHours());break;case "h":arrDt[arrDt.length]=new String(((h=dt.getHours()%12)?h:12));break;case "m":arrDt[arrDt.length]=new String(dt.getMinutes());break;case "s":arrDt[arrDt.length]=new String(dt.getSeconds());break;case "W":arrDt[arrDt.length]=new String(pThis.getWeekOfYear(dt));break;}}}return arrDt.join("");}});}if(!JsNamespace.exist("Eco.number")){JsNamespace.declare("Eco.number",{point:".",separator:",",separatorGrouping:"\\3",_adjustFloat:function(n){return parseFloat(n.toPrecision(14));},_getMaxPrecision:function(values){var maxPrecision=0,currentPrecision,tempValue;total=0,len=values.length;var adjustFloat=Eco.number._adjustFloat;for(var i=0;i<len;i++ ){tempValue=adjustFloat(values[i]);currentPrecision=(tempValue.toString().match(/\.\d+/)||[''])[0].length;if(currentPrecision>maxPrecision){maxPrecision=currentPrecision;}}return maxPrecision;},plus:function(){var maxPrecision=0,currentPrecision,total=0,len=arguments.length;maxPrecision=Eco.number._getMaxPrecision(arguments);maxPrecision=Math.pow(10,(maxPrecision-1));for(i=0;i<len;i++ ){total+=(arguments[i]*maxPrecision);}return total/maxPrecision;},divide:function(){var maxPrecision=0;var total=0;var count=arguments.length-1;var tempValues=[arguments[0]];var i=1;var pThis=Eco.number;var getMaxPrecision=pThis._getMaxPrecision;var adjustFloat=pThis._adjustFloat;do{tempValues.push(arguments[i]);i++ ;maxPrecision=Math.pow(10,(getMaxPrecision(tempValues)-1));for(var j=0;j<2;j++ ){tempValues[j]*=maxPrecision;}total=adjustFloat(tempValues[0]/tempValues[1]);total=(tempValues[0]/tempValues[1]);tempValues=[total];}while( --count)return total;},multiply:function(){var maxPrecision=0;var total=0;var count=arguments.length-1;var tempValues=[arguments[0]];var i=1;var pThis=Eco.number;var getMaxPrecision=pThis._getMaxPrecision;var adjustFloat=pThis._adjustFloat;var resultPrecision=0;do{tempValues.push(arguments[i]);resultPrecision=getMaxPrecision(tempValues);if(resultPrecision==0){maxPrecision=1;}else{maxPrecision=Math.pow(10,(resultPrecision-1));}for(var j=0;j<2;j++ ){tempValues[j]=adjustFloat(tempValues[j]*maxPrecision);}total=(tempValues[0]*tempValues[1]/Math.pow(maxPrecision,2));tempValues=[total];i++ ;}while( --count)return total;},intToHanGul:function(val){if(!Eco.isString(val)){val=String(val);}var arrhn=["영","일","이","삼","사","오","육","칠","팔","구"];var arrhj=["","만","억","조","경","해"];var arrul=["영천","영백","영십","영"];var arrtm=[];var sRtn="";var sTm2="";if(val.charAt(0)=="-"){sRtn="마이너스 ";val=val.substr(1,val.length-1);}else if(val.charAt(0)=="+"){val=val.substr(1,val.length-1);}var nPoint=val.indexOf('.'),strNumber="",bPoint,strDecimal="";if(nPoint<0){strNumber=val;bPoint=false;}else{strNumber=val.substr(0,nPoint);strDecimal=val.substr(nPoint+1);bPoint=true;}var nSize=Math.ceil(strNumber.length/4);sTmpPrice="";for(var i=strNumber.length;i>=0;i-- ){sTmpPrice+=strNumber.substring(i,i-1);}strNumber=sTmpPrice;for(var i=0;i<nSize;i++ ){sSum=arrhj[i]+" ";arrtm[i]=strNumber.substr(i*4,4);sTm2="";for(var j=arrtm[i].length;j>=0;j-- ){sTm2+=arrtm[i].substring(j,j-1);}arrtm[i]=sTm2;sPart=arrtm[i].length;for(var j=0;j<10;j++ ){for(var k=0;k<10;k++ ){arrtm[i]=arrtm[i].replace(k,arrhn[k]);}}if(sPart==4){arrtm[i]=arrtm[i].charAt(0)+"천"+arrtm[i].charAt(1)+"백"+arrtm[i].charAt(2)+"십"+arrtm[i].charAt(3);}else if(sPart==3){arrtm[i]=arrtm[i].charAt(0)+"백"+arrtm[i].charAt(1)+"십"+arrtm[i].charAt(2);}else if(sPart==2){arrtm[i]=arrtm[i].charAt(0)+"십"+arrtm[i].charAt(1);}else{arrtm[i]=arrtm[i].charAt(0);}for(var j=0;j<4;j++ ){if(arrtm[i].match(arrul[j])){sPart-- ;arrtm[i]=arrtm[i].replace(arrul[j],"");}}if(sPart!=0){arrtm[i]+=sSum;}}for(nSize;nSize> -1;nSize-- ){sRtn+=arrtm[nSize];}sRtn=sRtn.replace("undefined","");if(bPoint){sRtn+=" 소수점 ";for(var i=0,n=strDecimal.length;i<n;i++ ){sRtn+=arrhn[parseInt(strDecimal.charAt(i))];}}return sRtn;},intToHanJa:function(val){if(!Eco.isString(val)){val=String(val);}var arrhn=["零","壹","貳","參","四","五","六","七","八","九"];var arrhj=["","萬","億","兆"];var arrul=["零千","零百","零拾","零"];var arrtm=[];var sRtn="";var sTm2="";if(val.charAt(0)=="-"){sRtn="陰數";val=val.substr(1,val.length-1);}else if(val.charAt(0)=="+"){val=val.substr(1,val.length-1);}var nPoint=val.indexOf('.'),strNumber="",bPoint,strDecimal="";if(nPoint<0){strNumber=val;bPoint=false;}else{strNumber=val.substr(0,nPoint);strDecimal=val.substr(nPoint+1);bPoint=true;}var nSize=Math.ceil(strNumber.length/4);sTmpPrice="";for(var i=strNumber.length;i>=0;i-- ){sTmpPrice+=strNumber.substring(i,i-1);}strNumber=sTmpPrice;for(var i=0;i<nSize;i++ ){sSum=arrhj[i]+" ";arrtm[i]=strNumber.substr(i*4,4);sTm2="";for(var j=arrtm[i].length;j>=0;j-- ){sTm2+=arrtm[i].substring(j,j-1);}arrtm[i]=sTm2;sPart=arrtm[i].length;for(var j=0;j<10;j++ ){for(var k=0;k<10;k++ ){arrtm[i]=arrtm[i].replace(k,arrhn[k]);}}if(sPart==4){arrtm[i]=arrtm[i].charAt(0)+"千"+arrtm[i].charAt(1)+"百"+arrtm[i].charAt(2)+"拾"+arrtm[i].charAt(3);}else if(sPart==3){arrtm[i]=arrtm[i].charAt(0)+"百"+arrtm[i].charAt(1)+"拾"+arrtm[i].charAt(2);}else if(sPart==2){arrtm[i]=arrtm[i].charAt(0)+"拾"+arrtm[i].charAt(1);}else{arrtm[i]=arrtm[i].charAt(0);}for(var j=0;j<4;j++ ){if(arrtm[i].match(arrul[j])){sPart-- ;arrtm[i]=arrtm[i].replace(arrul[j],"");}}if(sPart!=0){arrtm[i]+=sSum;}}for(nSize;nSize> -1;nSize-- ){sRtn+=arrtm[nSize];}sRtn=sRtn.replace("undefined","");if(bPoint){sRtn+=" 小數點 ";for(var i=0,n=strDecimal.length;i<n;i++ ){sRtn+=arrhn[parseInt(strDecimal.charAt(i))];}}return sRtn;},bytesToSize:function(bytes,precision,unit){if(precision===null||precision===undefined||precision===""){precision=1;}if(unit!==false){unit=true;}var units=['B','KB','MB','GB','TB','PB','EB','ZB','YB'];var i=0;while(bytes>=1024){bytes/=1024; ++i;}if(!unit){return bytes.toFixed(precision);}else{if(precision>0){return bytes.toFixed(precision)+' '+units[i];}else{return Math.round(bytes)+' '+units[i];}}},evenRound:function(num,decimalPlaces){var d=decimalPlaces||0;var m=Math.pow(10,d);var n= +(d?num*m:num).toFixed(8);var i=Math.floor(n),f=n-i;var r=(f==0.5)?((i%2==0)?i:i+1):Math.round(n);return d?r/m:r;},_numberMaskCache:{},_parseNumberMask:function(strMask){var pThis=Eco.number;var res=pThis._numberMaskCache[strMask];if(res){return res;}var dispComma=false,nMin=0,nMax=0,nDecimalMin= -1,nDecimalMax=0;strMask=nexacro.trimLeft(strMask);if(strMask.length<=0){return [dispComma,nMin,nMax,nDecimalMin,nDecimalMax];}nDecimalMax=0;nDecimalMin=0;dispComma=(strMask.indexOf(",")>=0);var c,bFindPoint=false;for(var i=0,n=strMask.length;i<n;i++ ){c=strMask.charAt(i);if(c=='.'){bFindPoint=true;}else if(c=='#'||c=='0'||c=='9'||c==','){if(bFindPoint){if(c=='0'){nDecimalMax++ ;nDecimalMin=nDecimalMax;}else{nDecimalMax++ ;}}else{if(c=='0'){nMin++ ;}else if(nMin>0){nMin++ ;}nMax++ ;}}}res=[dispComma,nMin,nMax,nDecimalMin,nDecimalMax];pThis._numberMaskCache[strMask]=res;return res;},_numberSplit:function(strText){var pThis=Eco.number;var nBegin=0,nSign;if((nBegin=strText.indexOf('+'))>=0){nSign= +1;nBegin=1;}else if((nBegin=strText.indexOf('-'))>=0){nSign= -1;nBegin=1;}else{nSign=0;nBegin=0;}var nPoint=strText.indexOf(pThis.point,nBegin),strNumber="",bPoint,strDecimal="";if(nPoint<0){strNumber=strText.substr(nBegin);bPoint=false;}else{strNumber=strText.substr(nBegin,nPoint-nBegin);strDecimal=strText.substr(nPoint+1);bPoint=true;}return [nSign,bPoint,strNumber,strDecimal];},_removeMask:function(str){var pThis=Eco.number;str=str.trim();var ntxtLen=str.length,i,pointVal=pThis.point,separatorVal=pThis.separator;bPoint=false,bInside=false,buf=[];for(i=0;i<ntxtLen;i++ ){var c=str.charAt(i);if((c=='+'||c=='-')&&(bInside===false)){buf.push(c);bInside=true;}else if(nexacro.isNumeric(c)){buf.push(c);bInside=true;}else if(c==pointVal&&bPoint===false){buf.push(c);bPoint=true;bInside=true;}else if(c!=separatorVal){return "";}}return buf.join("");},_applyComma:function(strNumber){var pThis=Eco.number;var grouping=pThis.separatorGrouping;var thousands_sep=pThis.separator;if(thousands_sep.length>0){var dec_buf=strNumber.split(""),dec_size=strNumber.length,out_size=(thousands_sep.length+1)*strNumber.length,out_buf=[],cur_group=0,d_size=dec_size,endpos=out_size,groupingIdx=0,g;grouping=grouping.split("");while(grouping[groupingIdx]&&d_size>0){g=grouping[groupingIdx];if(g=="\\"){groupingIdx++ ;g=parseInt(grouping[groupingIdx]);}if(g>0){cur_group=g;while(g-- >0&&d_size>0){out_buf[ --endpos]=dec_buf[ --d_size];}if(d_size>0){out_buf[ --endpos]=thousands_sep;}}else if(g==0&&d_size>cur_group){g=cur_group;while(g-- >0){out_buf[ --endpos]=dec_buf[ --d_size];}if(d_size>0){out_buf[ --endpos]=thousands_sep;}}else if(g==0&&d_size<=cur_group&&d_size>0){g=d_size;while(g-- >0){out_buf[ --endpos]=dec_buf[ --d_size];}}else{break;}}return out_buf.slice(endpos,out_size+endpos).join("");}return strNumber;},_normalizeValue:function(strValue,bTrim){var pThis=Eco.number;if(strValue.length<=0){return strValue;}if(bTrim===undefined){bTrim=true;}strValue=pThis._removeMask(strValue);if(strValue.charAt(strValue.length-1)==pThis.point){strValue=strValue+"0";}if(bTrim){var bSign=(strValue.charAt(0)=='-')?1:0;var pointVal=pThis.point;while(strValue.charAt(0+bSign)=='0'&&strValue.charAt(1+bSign)!=pointVal&&strValue.length!=(1+bSign)){strValue=strValue.substring(0,0+bSign)+strValue.substr(0+bSign+1,strValue.length);}var nPoint=strValue.indexOf(pointVal);if(nPoint>=0){var i;for(i=strValue.length-1;i>nPoint+1;i-- ){if(strValue.charAt(i)!='0'){break;}}strValue=strValue.substring(0,i+1);}}if(strValue.charAt(0)=='+'){strValue=strValue.substr(1);}else if(strValue.length<=0||parseFloat(strValue)==0.0){if(strValue.charAt(0)=='-'){strValue=strValue.substr(1);}}return strValue;},getMaskFormatString:function(value,strMask){var pThis=Eco.number;var strText=value+"";strText=pThis._normalizeValue(strText,true);var nDecimalLen=0;var nIntegerLen=0;var ret=pThis._numberSplit(strText),nSign=ret[0],bPoint=ret[1],strNumber=ret[2],strDecimal=ret[3];nIntegerLen=strNumber.length;nDecimalLen=strDecimal?strDecimal.length:0;var maskInfo=pThis._parseNumberMask(strMask),dispComma=maskInfo[0],nMin=maskInfo[1],nMax=maskInfo[2],nDecimalMin=maskInfo[3],nDecimalMax=maskInfo[4];if(nMin>nIntegerLen){var tmpStr="";for(var i=0,n=nMin-nIntegerLen;i<n;i++ ){tmpStr+="0";}strNumber=tmpStr+strNumber;}if(nDecimalMin>nDecimalLen){var tmpStr="";for(var i=0,n=nDecimalMin-nDecimalLen;i<n;i++ ){tmpStr+="0";}strDecimal=strDecimal+tmpStr;}else if(nDecimalMax!= -1&&nDecimalMax<nDecimalLen){strDecimal=strDecimal.substring(0,nDecimalMax)+strDecimal.substr(nDecimalLen,strDecimal.length);}if(dispComma){strNumber=pThis._applyComma(strNumber);}if(nSign<0){strText="-";}else if(nSign>0){strText="+";}else{strText="";}strText+=strNumber;if(strDecimal.length>0){strText+=pThis.point;strText+=strDecimal;}return strText;}});}if(!JsNamespace.exist("Eco.string")){JsNamespace.declare("Eco.string",{indexOfIgnoreCase:function(value,sFind,nStart){return value.toLowerCase().indexOf(sFind.toLowerCase(),nStart);},replaceIgnoreCase:function(sOrg,sRepFrom,sRepTo){var pos,nStart=0,sRet="";var pThis=Eco.string;while(1){pos=pThis.indexOfIgnoreCase(sOrg,sRepFrom,nStart);if(pos<0){sRet+=sOrg.substr(nStart);break;}else{sRet+=sOrg.substr(nStart,pos-nStart);sRet+=sRepTo;nStart=pos+sRepFrom.length;}}return sRet;},lastIndexOfIgnoreCase:function(source,target,opt_start){if(opt_start===undefined||opt_start<0||opt_start>source.length){opt_start=source.length-1;}return source.toLowerCase().lastIndexOf(target.toLowerCase(),opt_start);},getRightStr:function(source,length){if(source.length<length){return source;}else{return source.substr(source.length-length,length);}},removeStr:function(source,target,direction,opt_ignoreCase){direction=direction||"left";if(opt_ignoreCase!==false){opt_ignoreCase=true;}var tempSource,tempTarget,pos;var sourceLen=source.length;var targetLen=target.length;tempSource=source;tempTarget=target;if(!opt_ignoreCase){tempSource=source.toLowerCase();tempTarget=target.toLowerCase();}if(direction=="left"){pos=tempSource.indexOf(tempTarget);}else if(direction=="right"){pos=tempSource.lastIndexOf(tempTarget);}else{return;}if(pos<0){return source;}else if(tempSource==tempTarget){return "";}else if(pos==0){return tempSource.substr(targetLen);}else if(pos>0){return tempSource.substr(0,pos)+tempSource.substr(pos+targetLen);}},_formatRegExp:/\{(\d+)\}/g,format:function(){var str=arguments[0];var args=Eco.array.toArray(arguments,1);return str.replace(Eco.string._formatRegExp,function(m,i){return args[i];});},getLength:function(str,unit){if(!str){return 0;}var pThis=Eco.string;if(unit=="utf8"){return pThis._utf8ByteCount(str);}else if(unit=="ascii"){return pThis._asciiByteCount(str);}else{return str.length;}},_utf8ByteCount:function(str){if(str===undefined){return 0;}var pThis=Eco.string;var count=0,ch,high,low,isHighSurrogate=pThis._isHighSurrogate,utf8Len=pThis._utf8Len,toCodepoint=pThis._toCodepoint;for(var i=0,n=str.length;i<n;i++ ){ch=str.charCodeAt(i);if(isHighSurrogate(ch)){high=ch;low=str.charCodeAt( ++i);count+=utf8Len(toCodepoint(high,low));}else{count+=utf8Len(ch);}}return count;},_asciiByteCount:function(str){if(str===undefined){return 0;}var i,j=0,val;for(i=0,n=str.length;i<n;i++ ){val=str.charCodeAt(i);if(val>255){j++ ;}j++ ;}return j;},_utf8Len:function(codePoint){if(codePoint>=0xD800&&codePoint<=0xDFFF){Eco.Logger.error({"message":"Illegal argument: "+codePoint,"stack":true});}if(codePoint<0){Eco.Logger.error({"message":"Illegal argument: "+codePoint,"stack":true});}if(codePoint<=0x7F){return 1;}if(codePoint<=0x7FF){return 2;}if(codePoint<=0xFFFF){return 3;}if(codePoint<=0x1FFFFF){return 4;}if(codePoint<=0x3FFFFFF){return 5;}if(codePoint<=0x7FFFFFFF){return 6;}Eco.Logger.error({"message":"Illegal argument: "+codePoint,"stack":true});},_isHighSurrogate:function(codeUnit){return codeUnit>=0xD800&&codeUnit<=0xDBFF;},_isLowSurrogate:function(codeUnit){return codeUnit>=0xDC00&&codeUnit<=0xDFFF;},_toCodepoint:function(highCodeUnit,lowCodeUnit){var pThis=Eco.string;if(!pThis._isHighSurrogate(highCodeUnit)){Eco.Logger.error({"message":"Illegal argument: "+highCodeUnit,"stack":true});}if(!pThis._isLowSurrogate(lowCodeUnit)){Eco.Logger.error({"message":"Illegal argument: "+lowCodeUnit,"stack":true});}highCodeUnit=(0x3FF&highCodeUnit)<<10;var u=highCodeUnit|(0x3FF&lowCodeUnit);return u+0x10000;},countNonword:function(str){var regExp=/\W/g;var rtn=str.match(regExp);return (!rtn)?0:rtn.length;},strFullToHalf:function(str){var i,c,sHalf="";var count=str.length;for(i=0;i<count;i++ ){var c=str.charCodeAt(i);if(c==12288){sHalf+=unescape("%20");}else if((c>=65281)&&(c<=65374)){sHalf+=unescape("%"+(c-65248).toString(16));}else{sHalf+=str.charAt(i);}}return sHalf;},strHalfToFull:function(str){var rTmp="";var iTmp="";var i,incount=str.length;var tempCode;for(i=0;i<incount;i++ ){tempCode=str.charCodeAt(i);if((tempCode>=32)&&(tempCode<=126)){if(tempCode==32){iTmp=unescape("%u"+(12288).toString(16));}else{iTmp=tempCode+65248;}}else{iTmp=tempCode;}if(tempCode==32){rTmp=rTmp+(iTmp);}else{rTmp=rTmp+String.fromCharCode(iTmp);}}return rTmp;},repeatStr:function(str,count){var rtn="".padLeft(count,str);return rtn;},hanGulToUnicode:function(str){return escape(str).replace(/%/gi,"\\");},unicodeToHanGul:function(str){return unescape(str.replace(/\\/gi,"%"));},replaceInvalidFileNameChars:function(str,opt_newvalue){if(opt_newvalue===null||opt_newvalue===undefined){opt_newvalue="_";}var filename=str.replace(/[\\\/:*?"<>|]/,opt_newvalue);return filename;},removeMultibyteChar:function(str){var rtn="";var arrStr=str.split(""),len=arrStr.length,chr;for(var i=0;i<len;i++ ){chr=arrStr[i];chr=escape(chr);if(chr.charAt(1)!="u"){rtn+=arrStr[i];}}return rtn;},startsWith:function(str,target){return str.lastIndexOf(target,0)==0;},endsWith:function(str,target){var l=str.length-target.length;return l>=0&&str.indexOf(target,l)==l;},unicodeToDecimal:function(val,leftDelimiter,rightDelimiter){if(Eco.isEmpty(leftDelimiter)){leftDelimiter="&#";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=";";}var res="";val=val.replace(/^\s+/,'');if(val.length==0){return "";}var code;for(var i=0,n=val.length;i<n;i++ ){code=val.charCodeAt(i);res+=leftDelimiter+code+rightDelimiter;}return res;},decimalToUnicode:function(val,leftDelimiter,rightDelimiter){if(Eco.isEmpty(leftDelimiter)){leftDelimiter="&#";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=";";}var res="";val=val.replace(/^\s+/,'');if(val.length==0){return "";}var delimiter=rightDelimiter+leftDelimiter;var arr=val.split(delimiter),chr;arr[0]=arr[0].substr(leftDelimiter.length);var lastE=arr[arr.length-1];arr[arr.length-1]=lastE.substr(0,lastE.length-rightDelimiter.length);for(var i=0,n=arr.length;i<n;i++ ){chr=String.fromCharCode(arr[i]);res+=chr;}return res;},unicodeToHex:function(val,leftDelimiter,rightDelimiter){if(Eco.isEmpty(leftDelimiter)){leftDelimiter="&#x";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=";";}var res="";val=val.replace(/^\s+/,'');if(val.length==0){return "";}var code;for(var i=0,n=val.length;i<n;i++ ){code=val.charCodeAt(i);res+=leftDelimiter+code.toString(16).toUpperCase()+rightDelimiter;}return res;},hexToUnicode:function(val,leftDelimiter,rightDelimiter){if(Eco.isEmpty(leftDelimiter)){leftDelimiter="&#x";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=";";}var res="";val=val.replace(/^\s+/,'');if(val.length==0){return "";}var delimiter=rightDelimiter+leftDelimiter;var arr=val.split(delimiter),chr;arr[0]=arr[0].substr(leftDelimiter.length);var lastE=arr[arr.length-1];arr[arr.length-1]=lastE.substr(0,lastE.length-rightDelimiter.length);for(var i=0,n=arr.length;i<n;i++ ){chr=String.fromCharCode(parseInt(arr[i],16));res+=chr;}return res;},_hex:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],_toHex:function(val){var hexs=Eco.string._hex;return hexs[(val>>4)&0xF]+hexs[val&0xF];},unicodeToUtf8:function(val,leftDelimiter,rightDelimiter){if(Eco.isEmpty(leftDelimiter)){leftDelimiter="";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=" ";}var res="";val=val.replace(/^\s+/,'');if(val.length==0){return "";}var code,toHex=Eco.string._toHex;for(var i=0,n=val.length;i<n;i++ ){code=val.charCodeAt(i);if(i>0){res+=rightDelimiter;}if(code<=0x7F){res+=leftDelimiter+toHex(code);}else if(code<=0x7FF){res+=leftDelimiter+toHex(0xC0|((code>>6)&0x1F))+rightDelimiter+leftDelimiter+toHex(0x80|(code&0x3F));}else if(code<=0xFFFF){res+=leftDelimiter+toHex(0xE0|((code>>12)&0x0F))+rightDelimiter+leftDelimiter+toHex(0x80|((code>>6)&0x3F))+rightDelimiter+leftDelimiter+toHex(0x80|(code&0x3F));}else if(code<=0x10FFFF){outputString+=leftDelimiter+toHex(0xF0|((code>>18)&0x07))+rightDelimiter+leftDelimiter+toHex(0x80|((code>>12)&0x3F))+rightDelimiter+leftDelimiter+toHex(0x80|((code>>6)&0x3F))+rightDelimiter+leftDelimiter+toHex(0x80|(code&0x3F));}else{res+=leftDelimiter+code.toString(16).toUpperCase();}}res+=rightDelimiter;return res;},utf8ToUnicode:function(val,leftDelimiter,rightDelimiter){val=val.replace(/^\s+/,'');val=val.replace(/ $/,'');if(val.length==0){return "";}if(Eco.isEmpty(leftDelimiter)){leftDelimiter="";}if(Eco.isEmpty(rightDelimiter)){rightDelimiter=" ";}var delimiter=rightDelimiter+leftDelimiter,arr;arr=val.split(delimiter);if(leftDelimiter.length&&rightDelimiter.length){arr[0]=arr[0].substr(leftDelimiter.length);var lastE=arr[arr.length-1];arr[arr.length-1]=lastE.substr(0,lastE.length-rightDelimiter.length);}var valLen=arr.length,res="",code,compte=0,tmpcode=0;for(var i=0;i<valLen;i++ ){code=parseInt(arr[i],16);switch(compte){case 0:if(0<=code&&code<=0x7F){res+=String.fromCharCode(code);}else if(0xC0<=code&&code<=0xDF){compte=1;tmpcode=code&0x1F;}else if(0xE0<=code&&code<=0xEF){compte=2;tmpcode=code&0xF;}else if(0xF0<=code&&code<=0xF7){compte=3;tmpcode=code&0x7;}else{res+=String.fromCharCode(code);}break;case 1:if(code<0x80||code>0xBF){res+=String.fromCharCode(code);}compte-- ;res+=String.fromCharCode((tmpcode<<6)|(code-0x80));tmpcode=0;break;case 2:case 3:if(code<0x80||code>0xBF){res+=String.fromCharCode(code);}tmpcode=(tmpcode<<6)|(code-0x80);compte-- ;break;}}return res;},_maskChr:{"@":/[\x20-\x7D]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/},_defaultPassChar:"*",_defaultMaskChar:"_",_PASSWORD_PAIR:["{","}"],_stringMaskCache:{},_chkEmpty:String.fromCharCode(0x08),_parseStringMask:function(strMask,maskChr,passChr){var pThis=Eco.string;var res=pThis._stringMaskCache[strMask];if(res){return res;}var len=strMask.length,arrMask=[],arrPass=[],arrOrgMask=[],bQuote=false,bEscape=false,bPasswd=false,Mask=0,i,nIdx,cMasks=strMask.split(""),rMaskChr,ReserveMasks=pThis._maskChr;for(i=0,nIdx=0;i<len;i++ ){if(bEscape==false&&cMasks[i]=="'"){if(bQuote==false){bQuote=true;}else{bQuote=false;}continue;}Mask=0;if(bEscape==false&&cMasks[i]=="\\"&&!bQuote){bEscape=true;continue;}else if(bEscape){bEscape=false;}else if(bQuote==false){rMaskChr=ReserveMasks[cMasks[i]];if(rMaskChr){Mask=rMaskChr;}if(cMasks[i]==this._PASSWORD_PAIR[0]){bPasswd=true;continue;}if(cMasks[i]==this._PASSWORD_PAIR[1]){bPasswd=false;continue;}}arrMask[nIdx]=Mask;arrPass[nIdx]=bPasswd;arrOrgMask[nIdx]=cMasks[i];nIdx++ ;}res=[arrMask,arrPass,arrOrgMask];pThis._stringMaskCache[strMask]=res;return res;},_makeMaskedValue:function(arrVal,arrMask,arrOrgMask){var bOverlappedValue=false;var Mask;var c;var nXCharLen=0;var nLen=arrVal.length;var i,j;if(nLen==arrMask.length){for(i=0;i<nLen;i++ ){if(arrMask[i]==0&&arrVal[i]==arrMask[i]){continue;}else if(arrMask[i]==0){break;}}if(i==arrVal.length){bOverlappedValue=true;}}var strMaskedValue=[];nLen=arrOrgMask.length;var ReserveMasks=this._maskChr;for(i=0,j=0;i<nLen;i++ ){c=arrOrgMask[i];Mask=arrMask[i];if(Mask!=0&&ReserveMasks[c]){do{c=arrVal[j];j++ ;}while(c&&!Mask.test(c))if(Eco.isEmpty(c)){c=_chkEmpty;}}else if(bOverlappedValue&&arrOrgMask[i]==c){j++ ;}strMaskedValue[i]=c;}return strMaskedValue;},getMaskFormatString:function(val,strMask,maskChr){var pThis=Eco.string;if(!maskChr){maskChr=pThis._defaultMaskChar;}var passChr=pThis._defaultPassChar;var maskInfo=pThis._parseStringMask(strMask,maskChr,passChr),arrMask=maskInfo[0],arrPass=maskInfo[1],arrOrgMask=maskInfo[2],arrVal=val.split("");var maskedValue=pThis._makeMaskedValue(arrVal,arrMask,arrOrgMask);var i;var strText=[];var c;var Mask,Pass,strMask;var nLen=arrOrgMask.length;for(i=0;i<nLen;i++ ){c=maskedValue[i];Mask=arrMask[i];Pass=arrPass[i];strMask=arrOrgMask[i];if(Mask!=0){if(Eco.isEmpty(c)||c==pThis._chkEmpty){c=maskChr;}else if(Pass){c=pThis._defaultPassChar;}else if(strMask=="A"||strMask=="Z"){c=c.toUpperCase();}else if(strMask=="a"||strMask=="z"){c=c.toLowerCase();}}strText[i]=c;}return strText.join("");},_cacheEscapeXML:{},escapeXML:function(str){var pThis=Eco.string;if(typeof str!="string"){str=new String(str);}var ret=pThis._cacheEscapeXML[str];if(Eco.isEmpty(ret)){ret=str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\t/g,"&#9;").replace(/\r/g,"&#13;").replace(/\n/g,"&#10;");pThis._cacheEscapeXML[str]=ret;}return ret;},capitalize:function(str){if(!str){Eco.Logger.error({message:"str is null!",stack:true});}return str.replace(/\b[a-z]/g,function(match){return match.toUpperCase();});},camelize:function(str){return str.replace(/-(.)/g,function(all,chr){return chr.toUpperCase();});},hyphenate:function(str){return str.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();}});}if(!JsNamespace.exist("Eco.object")){JsNamespace.declare("Eco.object",{getServiceArgumenets:function(object){var p,objects=[],i,len,value,obj,params=[],isEmpty=Eco.isEmpty,pThis=Eco.object;for(p in object){if(object.hasOwnProperty(p)){objects=objects.concat(pThis._toArgumentObjects(p,object[p],true));}}for(i=0,len=objects.length;i<len;i++ ){obj=objects[i];if(!obj||isEmpty(obj.name)){continue;}name=obj.name;value=obj.value;if(typeof value==="string"){value=nexacro.wrapQuote(value);}params.push(name+'='+value);}return params.join(" ");},getServiceDatasets:function(object){var p,objects=[],i,len,value,obj,params=[],isEmpty=Eco.isEmpty,pThis=Eco.object;for(p in object){if(object.hasOwnProperty(p)){objects=objects.concat(pThis._toArgumentObjects(p,object[p]));}}for(i=0,len=objects.length;i<len;i++ ){obj=objects[i];if(!obj||isEmpty(obj.name)){continue;}name=obj.name;value=obj.value;params.push(name+'='+value);}return params.join(" ");},_toArgumentObjects:function(name,value,recursive){var thisFunc=Eco.object._toArgumentObjects,objects=[],i,len,p;if(Eco.isXComponent(value)){if(value instanceof Static||value instanceof Button){value=value.text;}else{value=value.value;}objects.push({name:name,value:value});}else if(Eco.isArray(value)){for(i=0,len=value.length;i<len;i++ ){if(recursive){objects=objects.concat(thisFunc(name+'_'+i,value[i],true));}else{objects.push({name:name,value:value[i]});}}}else if(Eco.isObject(value)){for(p in value){if(value.hasOwnProperty(p)){if(recursive){objects=objects.concat(thisFunc(name+'_'+p,value[p],true));}else{objects.push({name:name,value:value[p]});}}}}else if(value instanceof Dataset){value=value.name;objects.push({name:name,value:value});}else{objects.push({name:name,value:value});}return objects;},Each:function(object,func,scope){var p,scope=scope||object;for(p in object){if(object.hasOwnProperty(p)){if(func.call(scope,p,object[p],object)===false){return;}}}},merge:function(tarobject){var i=1,func,scope,ln=arguments.length,mergeFunc=Eco.object.merge,isObjectFunc=Eco.isObject,o,prop,val,tarval;if(!tarobject){return;}if(typeof arguments[ln-1]=="function"){ln=ln-1;func=arguments[ln];}else if(typeof arguments[ln-2]=="function"){ln=ln-2;func=arguments[ln];scope=arguments[ln+1]||this;}if(func){for(;i<ln;i++ ){o=arguments[i];for(prop in o){if(o.hasOwnProperty(prop)){val=o[prop];if(func.call(scope,prop,val,tarobject)!==false){tarobject[prop]=val;}}}}}else{for(;i<ln;i++ ){o=arguments[i];for(prop in o){if(o.hasOwnProperty(prop)){val=o[prop];if(!tarobject[prop]){tarobject[prop]=val;}}}}}return tarobject;},copyProperties:function(tarobject,srcobject){if(tarobject&&srcobject){var p,value;for(p in srcobject){if(srcobject.hasOwnProperty(p)){value=srcobject[p];tarobject[p]=value;}}}},copyPropertiesIf:function(tarobject,srcobject,condition,scope){if(tarobject&&srcobject){var p,value,ret;if(condition&&Eco.isFunction(condition)){for(var p in srcobject){if(srcobject.hasOwnProperty(p)){value=srcobject[p];ret=condition.call(scope||this,p,value,srcobject);if(ret){tarobject[p]=value;}}}}else{for(var p in srcobject){if(srcobject.hasOwnProperty(p)){value=srcobject[p];if(tarobject[p]===condition){tarobject[p]=value;}}}}}},getValues:function(object){var values=[],p;for(p in object){if(object.hasOwnProperty(p)){values.push(object[p]);}}return values;},_hasDontEnumBug:!({toString:null}).propertyIsEnumerable('toString'),_dontEnums:['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],getPropertyNames:Object.keys?function(object){return Object.keys(object);}:function(object){var names=[],p;for(p in object){if(object.hasOwnProperty(p)){names.push(p);}}var pThis=Eco.object;if(pThis._hasDontEnumBug){var enums=pThis._dontEnums;for(var i=0,len=enums.length;i<len;i++ ){if(object.hasOwnProperty(enums[i])){names.push(enums[i]);}}}return names;},getSize:function(object){var len=0,p;for(p in object){if(object.hasOwnProperty(p)){len++ ;}}return len;},equal:function(object0,object1){if(object0===object1){return true;}if(object0&&object1){return this._equalProperty(object0,object1)&&this._equalProperty(object1,object0);}else if(!object0&&!object1){return object0===object1;}else{return false;}},_equalProperty:function(object0,object1){var p;for(p in object0){if(object0.hasOwnProperty(p)){if(object0[p]!==object1[p]){return false;}}}return true;},getArray:function(object){var array=[],p,values;for(p in object){if(object.hasOwnProperty(p)){values={};values[p]=object[p];array.push(values);}}return array;},toDataset:function(object,ds,dir){var p,i,len,value;if(dir=="vert"){if(!Eco.isEmpty(object)){ds.addColumn("name","string",256);ds.addColumn("value","string",256);}for(p in object){if(object.hasOwnProperty(p)){value=object[p]||"";len=ds.addRow();ds.setColumn(len,"name",p);ds.setColumn(len,"value",value);}}}else{if(!Eco.isEmpty(object)){for(p in object){if(object.hasOwnProperty(p)){ds.addColumn(p,"string",256);}}len=ds.addRow();for(p in object){if(object.hasOwnProperty(p)){value=object[p]||"";ds.setColumn(len,p,value);}}}}},fromDataset:function(object,ds,dir){var i,len,name,value,isEmpty=Eco.isEmpty;if(dir=="vert"){for(i=0,len=ds.getRowCount();i<len;i++ ){name=ds.getColumn(i,"name");if(isEmpty(name)){continue;}value=ds.getColumn(i,"value")||"";object[name]=value;}}else{for(i=0,len=ds.getColCount();i<len;i++ ){name=ds.getColID(i);if(isEmpty(name)){continue;}value=ds.getColumn(0,name)||"";object[name]=value;}}}});}if(!JsNamespace.exist("Eco.XComp.Style")){JsNamespace.declare("Eco.XComp.Style",{getBorderWidth:function(xComp){var currentBorder=xComp.currentstyle.border;if(currentBorder){var leftWidth=0,topWidth=0,rightWidth=0,bottomWidth=0;leftWidth=currentBorder.left_width;topWidth=currentBorder.top_width;rightWidth=currentBorder.right_width;bottomWidth=currentBorder.bottom_width;leftWidth=Eco.isEmpty(leftWidth)?"0":leftWidth;topWidth=Eco.isEmpty(topWidth)?"0":topWidth;rightWidth=Eco.isEmpty(rightWidth)?"0":rightWidth;bottomWidth=Eco.isEmpty(bottomWidth)?"0":bottomWidth;leftWidth=nexacro.toNumber(leftWidth.replace("px",""));topWidth=nexacro.toNumber(topWidth.replace("px",""));rightWidth=nexacro.toNumber(rightWidth.replace("px",""));bottomWidth=nexacro.toNumber(bottomWidth.replace("px",""));return [leftWidth,topWidth,rightWidth,bottomWidth];}else{return [0,0,0,0];}},getPadding:function(xComp){var padding=xComp.currentstyle.padding;var leftSize=0,topSize=0,rightSize=0,bottomSize=0;if(padding){topSize=(isNaN(padding.top)?0:padding.top);bottomSize=(isNaN(padding.bottom)?0:padding.bottom);leftSize=(isNaN(padding.left)?0:padding.left);rightSize=(isNaN(padding.right)?0:padding.right);}return [leftSize,topSize,rightSize,bottomSize];},getMargin:function(xComp){return [0,0,0,0];},getStyle:function(xComp){var style=xComp.style;var json={};var isFunction=Eco.isFunction;for(var name in style){if(style.hasOwnProperty(name)){if(name.charAt(0)=="_"){continue;}var styleProp=style[name];if(styleProp){if(!isFunction(styleProp)){if(styleProp===undefined){continue;}value=styleProp.toString();if(value=="undefined"){continue;}if(value.length){json[name]=value;}}}}}return json;},getCurrentStyle:function(xComp){var currentStyle=xComp.currentstyle;var normalValue={};var isFunction=Eco.isFunction;for(var name in currentStyle){if(currentStyle.hasOwnProperty(name)){if(name.charAt(0)=="_"){continue;}var styleProp=currentStyle[name];if(styleProp){if(!isFunction(styleProp)){value=styleProp.toString();if(value.length){normalValue[name]=value;}}}}}return normalValue;},setStyle:function(xComp,styleValue,clearFlag){var prevStyle=Eco.XComp.Style.getStyle(xComp);var newValue={},value;var isFunction=Eco.isFunction;if(Eco.isEmpty(clearFlag)){clearFlag=true;}if(clearFlag){for(var name in prevStyle){if(prevStyle.hasOwnProperty(name)){if(name.substr(0,1)=="_"){continue;}xComp["style"]["set_"+name]("");}}for(var name in styleValue){if(styleValue.hasOwnProperty(name)){newValue[name]=styleValue[name];}}}else{prevStyle=xComp.style;var isEmpty=Eco.isEmpty;var prevStyleValue;for(var name in prevStyle){if(styleValue[name]&&styleValue.hasOwnProperty(name)){newValue[name]=styleValue[name];}else{prevStyleValue=prevStyle[name];if(!prevStyleValue||isEmpty(prevStyleValue.toString())){continue;}newValue[name]=prevStyleValue;}}}for(var name in newValue){if(newValue.hasOwnProperty(name)){value=newValue[name];if(!isFunction(value)){if(name.substr(0,1)=="_"){continue;}xComp["style"]["set_"+name](value);}}}},setStyleIf:function(xComp,styleValue,condition,scope,clearFlag){if(condition===null||condition===undefined){condition="";}var pThis=Eco.XComp.Style;if(xComp&&styleValue){if(Eco.isEmpty(clearFlag)){clearFlag=true;}if(clearFlag){var prevStyle=pThis.getStyle(xComp);for(var name in prevStyle){if(prevStyle.hasOwnProperty(name)){if(name.substr(0,1)=="_"){continue;}xComp["style"]["set_"+name]("");}}}var value,ret,isFunc=false;if(condition&&Eco.isFunction(condition)){isFunc=true;}var xCompStyle=xComp.style;for(var name in styleValue){if(name.substr(0,1)=="_"){continue;}if(styleValue.hasOwnProperty(name)){value=styleValue[name];if(isFunc){if(condition.call(scope,xComp,name,value)){xComp["style"]["set_"+name](value);}}else if(condition==""&&Eco.isEmpty(xCompStyle[name])){xComp["style"]["set_"+name](value);}else if(xCompStyle[name]==condition){xComp["style"]["set_"+name](value);}}}}}});}if(!JsNamespace.exist("Eco.Logger")){JsNamespace.declare("Eco.Logger",{_LEVEL_STRING:["fatal","error","warn","info","debug"],logLevel:4,_logBuffer:[],_logBufferMax:1000,_indent:'    ',_startLoggerTime:(new Date()).getTime(),_startElapsedTime:null,_filter:"",_getDateFormatString:function(){var objDate=new Date();return Eco.date.getMaskFormatString(objDate,"yyyy-MM-dd HH:mm:ss.sss");},_getFuncFullName:function(func){var name="";if(func._thisOwner){name+=(func._thisOwner._className||Eco.XComp.getPathName(func._thisOwner))+".";}if(func._thisName){name+=func._thisName;}else{var funcName="";if('name' in func){funcName=func.name;}else{var reg=/function\s*([\w\-$]+)?\s*\(/i;funcName=reg.test(func.toString())?RegExp.$1:"";}if(funcName.length==0){funcName="anonymous function";}name+=funcName;}return name;},_getElapsed:function(isTotal){var logger=Eco.Logger;var stratTime=logger._startElapsedTime;if(!stratTime){stratTime=logger._startLoggerTime;}logger._startElapsedTime=null;var currentTime=(new Date()).getTime();var elpased=(currentTime-stratTime);var sec=parseInt(elpased/1000,10);var msec=parseInt(elpased%1000,10).toString().padLeft(3,"0");if(logger._totalElapsedTime!=null){logger._totalElapsedTime+=elpased;}if(isTotal){var elpased0=logger._totalElapsedTime;delete logger._totalElapsedTime;var sec1=parseInt(elpased0/1000,10);var msec1=parseInt(elpased0%1000,10).toString().padLeft(3,"0");return [(sec+"."+msec),(sec1+"."+msec1)];}return sec+"."+msec;},_xCompPropertyObjRe:/position|position2|positiontype|anchor|tooltiptype|tooltiptext|dropformat|currentstyle|style|scrollbars/,_getDumpString:function(object,bArguments){var logger=Eco.Logger;var member,type,value,nm,members=[];if(bArguments){if(object!=null){for(var i=0,n=object.length;i<n;i++ ){value=object[i];type=typeof value;if(type=="function"){members.push("function refer");continue;}if(Eco.isPrimitive(value)){member=value;}else if(Eco.isXComponent(value)){member=value.name||value;}else if(Eco.isArray(value)){member='[ ]';}else if(Eco.isObject(value)){member='{ }';}else{member=value;}if(type=="undefined"||type=="null"){members.push(type);}else{members.push(type+': '+member);}}}}else{if(object!=null){if(object.hasOwnProperty){for(nm in object){if(object.hasOwnProperty(nm)){value=object[nm];type=typeof value;if(type=="function"){continue;}if(Eco.isPrimitive(value)){member=value;}else if(Eco.isXComponent(value)){member=value.name||value;}else if(Eco.isArray(value)){member='[ ]';}else if(Eco.isObject(value)){member='{ }';}else{member=type;}members.push(nm+': '+member);}}}else{for(nm in object){value=object[nm];type=typeof value;if(type=="function"){continue;}if(value instanceof UserEvent||nm=="canvas"){continue;}if(logger._xCompPropertyObjRe.test(nm)){member=value.toString?value.toString():value;}else if(Eco.isXComponent(value)){member=value.name||value;}else if(Eco.isPrimitive(type)){member=value;}else if(Eco.isArray(value)){member='[ ]';}else if(Eco.isObject(value)){member='{ }';}else{member=type;}members.push(nm+': '+member);}}}}if(members.length){if(bArguments){return members.join(', ');}else{return ' \nData: {\n  '+members.join(',\n  ')+'\n}';}}return '';},inspect:function(obj,showHidden,depth,colors,customInspect){var ctx={seen:[],styles:Eco.Logger._inspectstyles,stylize:Eco.Logger._stylizeNoColor};ctx.depth=depth;ctx.colors=colors;ctx.showHidden=showHidden;ctx.customInspect=customInspect;if(typeof ctx.showHidden==='undefined'){ctx.showHidden=false;}if(typeof ctx.depth==='undefined'){ctx.depth=2;}if(typeof ctx.colors==='undefined'){ctx.colors=false;}if(typeof ctx.customInspect==='undefined'){ctx.customInspect=true;}if(ctx.colors){ctx.stylize=Eco.Logger._stylizeWithColor;}return Eco.Logger._formatValue(ctx,obj,ctx.depth);},_formatValue:function(ctx,value,recurseTimes){if(ctx.customInspect&&value&&typeof value.inspect==='function'&&value.inspect!==Eco.Logger.inspect&&!(value.constructor&&value.constructor.prototype===value)){return String(value.inspect(recurseTimes));}var pThis=Eco.Logger;var primitive=pThis._formatPrimitive(ctx,value);if(primitive){return primitive;}var keys=Eco.object.getPropertyNames(value);var visibleKeys=pThis._arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value);}if(keys.length===0){if(typeof value==='function'){var name=value.name?': '+value.name:'';return ctx.stylize('[Function'+name+']','special');}if(Eco.isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}if(Eco.isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),'date');}if(Eco.isError(value)){return pThis._formatError(value);}}var base='',array=false,braces=['{','}'];if(Eco.isArray(value)){array=true;braces=['[',']'];}if(typeof value==='function'){var n=value.name?': '+value.name:'';base=' [Function'+n+']';}if(Eco.isRegExp(value)){base=' '+RegExp.prototype.toString.call(value);}if(Eco.isDate(value)){base=' '+Date.prototype.toUTCString.call(value);}if(Eco.isError(value)){base=' '+pThis._formatError(value);}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1];}if(recurseTimes<0){if(Eco.isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),'regexp');}else{return ctx.stylize('[Object]','special');}}ctx.seen.push(value);var output;if(array){output=pThis._formatArray(ctx,value,recurseTimes,visibleKeys,keys);}else{output=Eco.array.map(keys,function(key){return pThis._formatProperty(ctx,value,recurseTimes,visibleKeys,key,array);});}ctx.seen.pop();return pThis._reduceToSingleString(output,base,braces);},_formatPrimitive:function(ctx,value){switch(typeof value){case 'undefined':return ctx.stylize('undefined','undefined');case 'string':var simple='\''+Eco.Json.encode(value).replace(/^"|"$/g,'').replace(/'/g,"\\'").replace(/\\"/g,'"')+'\'';return ctx.stylize(simple,'string');case 'number':return ctx.stylize(''+value,'number');case 'boolean':return ctx.stylize(''+value,'boolean');}if(value===null){return ctx.stylize('null','null');}},_formatError:function(value){return '['+Error.prototype.toString.call(value)+']';},_formatArray:function(ctx,value,recurseTimes,visibleKeys,keys){var output=[],hasOwnProperty=Eco._hasOwnProperty;var pThis=Eco.Logger;for(var i=0,l=value.length;i<l; ++i){if(hasOwnProperty.call(value,String(i))){output.push(pThis._formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));}else{output.push('');}}Eco.array.forEach(keys,function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true));}});return output;},_formatProperty:function(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(!Eco._isIE8Below){desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize('[Getter/Setter]','special');}else{str=ctx.stylize('[Getter]','special');}}else{if(desc.set){str=ctx.stylize('[Setter]','special');}}}else{desc={value:value[key]};}var hasOwnProperty=Eco._hasOwnProperty,pThis=Eco.Logger;if(!hasOwnProperty.call(visibleKeys,key)){name='['+key+']';}if(!str){if(Eco.array.indexOf(ctx.seen,desc.value,null,true)<0){if(recurseTimes===null){str=pThis._formatValue(ctx,desc.value,null);}else{str=pThis._formatValue(ctx,desc.value,recurseTimes-1);}if(str.indexOf('\n')> -1){if(array){str=str.split('\n');str=Eco.array.map(str,function(line){return '  '+line;});str=str.join('\n').substr(2);}else{str=str.split('\n');str=Eco.array.map(str,function(line){return '   '+line;});str='\n'+str.join('\n');}}}else{str=ctx.stylize('[...]','special');}}if(typeof name==='undefined'){if(array&&key.match(/^\d+$/)){return str;}name=Eco.Json.encode(''+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,'name');}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,'string');}}return name+': '+str;},_reduceToSingleString:function(output,base,braces){var numLinesEst=0;var length=Eco.array.reduce(output,function(prev,cur){numLinesEst++ ;if(cur.indexOf('\n')>=0){numLinesEst++ ;}return prev+cur.length+1;},0);if(length>60){return braces[0]+(base===''?'':base+'\n ')+' '+output.join(',\n  ')+' '+braces[1];}return braces[0]+base+' '+output.join(', ')+' '+braces[1];},_inspectstyles:{'special':'blue','number':'red','boolean':'blue','undefined':'bold','null':'bold','string':'hotpink','date':'blue','regexp':'blue'},_stylizeWithColor:function(str,styleType){var style=this.styles[styleType];if(style){if(style=="bold"){return '<b>'+str+'</b>';}else{return '<font color="'+style+'">'+str+'</font>';}}else{return str;}},_stylizeNoColor:function(str,styleType){return str;},_arrayToHash:function(arr){var hash={};Eco.array.forEach(arr,function(val,idx){hash[val]=true;});return hash;},_logging:function(level,msg){var logger=Eco.Logger;var logLevel=logger.logLevel;if(level>1&&logLevel<level){return;}var message,dump,stack,elapsed,elapsedTotal,filter,showStackAnonymous;if(typeof msg!='string'){message=msg.message||'';dump=msg.dump;stack=msg.stack;elapsed=msg.elapsed;elapsedTotal=msg.elapsedTotal;filter=msg.filter;showStackAnonymous=msg.showStackAnonymous;}else{message=msg;}var logFunc=logger._logging.caller;var callFunc=logFunc.caller;var dateString=logger._getDateFormatString();var levelString=logger._LEVEL_STRING[level];var funcString=logger._getFuncFullName(callFunc);var resultMessage=dateString+" ["+levelString+"] "+funcString+" - "+message;var elapsedTime="";if(elapsed){elapsedTime=logger._getElapsed(elapsedTotal);if(elapsedTotal){resultMessage+=" (Elapsed Time : "+elapsedTime[0]+" sec -- Total Time : "+elapsedTime[1]+" sec) ";}else{resultMessage+=" (Elapsed Time : "+elapsedTime+" sec)";}}var dumpString="";if(dump){dumpString=logger._getDumpString(dump);resultMessage+="\n*****************PRINTING DUMP************************";resultMessage+=dumpString;resultMessage+="\n*****************COMPLETE DUMP************************";}var stackString="";if(stack){stackString=logger._getCallStackString(logFunc,showStackAnonymous);resultMessage+="\n*****************PRINTING STACK************************";resultMessage+=stackString;resultMessage+="\n*****************COMPLETE STACK************************";}if(filter){if(logger._filter==filter){logger._writeLog(resultMessage);}}else{logger._writeLog(resultMessage);}var buffer=logger._logBuffer;var max=logger._logBufferMax;if(logLevel> -1&&logLevel>=level){if(buffer.length>=max){buffer.splice(0,1);}var buff={date:dateString,level:levelString,message:message,from:funcString,elapsed:elapsedTime,dump:dumpString,stack:stackString};logger._logBuffer.push(buff);}if(level==0||level==1){var e=new Error(message);throw e;}},_writeLog:function(message){application.trace(message);},_getCallStackString:function(func,showStackAnonymous){var logger=Eco.Logger;var f=func,indstr="",indentStr=logger._indent,ret="",index,stackLine="";var stack=[f];var startFunc=f.caller;while(f){f=f.caller;index= -1;for(var i=0,len=stack.length;i<len;i++ ){if(f==stack[i]){index=i;break;}}if(index<0){stack.push(f);stackLine=logger._getCallStackLine(indstr,f);if(stackLine.indexOf("anonymous function")> -1){if(showStackAnonymous){ret+="\n"+stackLine;indstr+=indentStr;}}else if(stackLine.length>0){ret+="\n"+stackLine;indstr+=indentStr;}}else{ret+="\n"+indstr+"stack overflow...";break;}}return ret;},_getCallStackLine:function(indstr,func){var logger=Eco.Logger;var nm=indstr;if(func){nm+=logger._getFuncFullName(func);nm+="("+logger._getDumpString(func.arguments,true)+")";return nm;}else{return "";}},getLogBuffer:function(){return Eco.Logger._logBuffer;},startElapsed:function(isTotal){Eco.Logger._startElapsedTime=(new Date()).getTime();if(isTotal){Eco.Logger._totalElapsedTime=0;}},getFilter:function(){return Eco.Logger._filter;},setFilter:function(filter){Eco.Logger._filter=filter;},fatal:function(msg){Eco.Logger._logging(0,msg);},error:function(msg){Eco.Logger._logging(1,msg);},warn:function(msg){Eco.Logger._logging(2,msg);},info:function(msg){Eco.Logger._logging(3,msg);},debug:function(msg){Eco.Logger._logging(4,msg);},setDebugInfoFunctions:function(form){for(var nm in form){if(form.hasOwnProperty(nm)&&typeof form[nm]=="function"){form[nm]._thisName=nm;form[nm]._thisOwner=form;}}}});}if(!JsNamespace.exist("Eco.Color")){JsNamespace.declare("Eco.Color",{basicColors:[['#ff8080','#ffff80','#80ff80','#00ff80','#80ffff','#0080ff','#ff80c0','#ff80ff'],['#ff0000','#ffff00','#80ff00','#00ff40','#00ffff','#0080c0','#8080c0','#ff00ff'],['#804040','#ff8040','#00ff00','#008080','#004080','#8080ff','#800040','#ff0080'],['#800000','#ff8000','#008000','#008040','#0000ff','#0000a0','#800080','#8000ff'],['#400000','#804000','#004000','#004040','#000080','#000040','#400040','#400080'],['#000000','#808000','#808040','#808080','#408080','#c0c0c0','#400040','#ffffff']],HSLMAX:240,RGBMAX:255,HUE_VALUE_WHEN_SATURATION_IS_ZERO:160,rgbToHsl:function(R,G,B){var pThis=Eco.Color;var HSLMAX=pThis.HSLMAX;var RGBMAX=pThis.RGBMAX;var cMax=Math.max(Math.max(R,G),B);var cMin=Math.min(Math.min(R,G),B);var L=Math.floor((((cMax+cMin)*HSLMAX)+RGBMAX)/(2*RGBMAX));var H=0;if(cMax==cMin){S=0;H=pThis.HUE_VALUE_WHEN_SATURATION_IS_ZERO;}else{if(L<=(HSLMAX/2)){S=Math.floor((((cMax-cMin)*HSLMAX)+((cMax+cMin)/2))/(cMax+cMin));}else{S=Math.floor((((cMax-cMin)*HSLMAX)+((2*RGBMAX-cMax-cMin)/2))/(2*RGBMAX-cMax-cMin));}var Rdelta=Math.floor((((cMax-R)*(HSLMAX/6))+((cMax-cMin)/2))/(cMax-cMin));var Gdelta=Math.floor((((cMax-G)*(HSLMAX/6))+((cMax-cMin)/2))/(cMax-cMin));var Bdelta=Math.floor((((cMax-B)*(HSLMAX/6))+((cMax-cMin)/2))/(cMax-cMin));if(R==cMax){H=Bdelta-Gdelta;}else if(G==cMax){H=(HSLMAX/3)+Rdelta-Bdelta;}else{H=((2*HSLMAX)/3)+Gdelta-Rdelta;}if(H<0){H+=HSLMAX;}if(H>HSLMAX){H-=HSLMAX;}}var res=[];res[0]=Math.floor(H);res[1]=Math.floor(S);res[2]=Math.floor(L);return res;},hueToRgb:function(n1,n2,hue){var HSLMAX=Eco.Color.HSLMAX;n1=Math.floor(n1);n2=Math.floor(n2);hue=Math.floor(hue);if(hue<0){hue+=HSLMAX;}if(hue>HSLMAX){hue-=HSLMAX;}if(hue<(HSLMAX/6)){return Math.floor(n1+Math.floor((((n2-n1)*hue+(HSLMAX/12))/(HSLMAX/6))));}if(hue<(HSLMAX/2)){return (n2);}if(hue<((HSLMAX*2)/3)){return Math.floor(n1+Math.floor((((n2-n1)*(((HSLMAX*2)/3)-hue)+(HSLMAX/12))/(HSLMAX/6))));}else{return Math.floor(n1);}},hslToRgb:function(hue,sat,lum){var R,G,B;var pThis=Eco.Color;var HSLMAX=pThis.HSLMAX;var RGBMAX=pThis.RGBMAX;if(sat==0){R=G=B=(lum*RGBMAX)/HSLMAX;if(hue!=pThis.HUE_VALUE_WHEN_SATURATION_IS_ZERO){}}else{var Magic1,Magic2;if(lum<=(HSLMAX/2)){Magic2=Math.floor((lum*(HSLMAX+sat)+(HSLMAX/2))/HSLMAX);}else{Magic2=(lum+sat-Math.floor(((lum*sat)+(HSLMAX/2))/HSLMAX));}Magic1=2*lum-Magic2;var hueToRgb=pThis.hueToRgb;R=(hueToRgb(Magic1,Magic2,hue+(HSLMAX/3))*RGBMAX+(HSLMAX/2))/HSLMAX;G=(hueToRgb(Magic1,Magic2,hue)*RGBMAX+(HSLMAX/2))/HSLMAX;B=(hueToRgb(Magic1,Magic2,hue-(HSLMAX/3))*RGBMAX+(HSLMAX/2))/HSLMAX;}res=[];res[0]=Math.floor(R);res[1]=Math.floor(G);res[2]=Math.floor(B);return res;},rgbToHex:function(red,green,blue,alpha){var numberToHex=Eco.Color.numberToHex;return "#"+numberToHex(red)+numberToHex(green)+numberToHex(blue)+numberToHex(alpha);},numberToHex:function(value){if(Eco.isEmpty(value)){return "";}var hex=value.toString(16).padLeft(2,"0");return hex.toUpperCase();},hexToHsl:function(str){if(Eco.isEmpty(str)){alert("Arguments is empty!");return;}var pThis=Eco.Color;var rgb=pThis.hexToRgb(str);return pThis.rgbToHsl(rgb[0],rgb[1],rgb[2]);},hexToRgb:function(str){if(Eco.isEmpty(str)){alert("Arguments is empty!");return;}if(!(str.match(/^#[0-9a-f]{3,8}$/i))){str=nexacro._xreNamedColorList[str];}var hex;if(str.length==9){hex=str.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})(\w{1,2})$/);}else{hex=str.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);}if(hex.length>=4){var rgb=[0,0,0];for(var i=0;i<3;i++ ){var value=hex[i+1];rgb[i]=parseInt(value.length==1?value+value:value,16);}if(hex[4]&&hex[4].length>0){rgb.push(parseInt(hex[4],16));}else{rgb.push(255);}return rgb;}}});}if(!JsNamespace.exist("Eco.XComp")){JsNamespace.declare("Eco.XComp",{_operators:{"equal":function(a,v){if(Eco.isEmpty(v)){return Eco.isEmpty(a);}return a==v;},"notEqual":function(a,v){return a!=v;},"greaterThan":function(a,v){return a>v;},"greaterThanEqual":function(a,v){return a>=v;},"lessThan":function(a,v){return a<v;},"lessThanEqual":function(a,v){return a<=v;},"contains":function(a,v){return a&&a.indexOf(v)> -1;},"startWith":function(a,v){return a&&a.substr(0,v.length)==v;},"endWith":function(a,v){return a&&a.substr(a.length-v.length)==v;}},typeOf:function(obj){var type;if(obj&&(typeof obj=="object")){var s=obj.toString();if(s=="[object Object]"){return type;}type=s.substr(8,s.length-9);}return type;},isVisible:function(obj){if(!("visible" in obj)){return false;}if(obj.visible==false){return false;}var ret=true;var p=obj.parent;while(p){if(p instanceof ChildFrame){break;}if(p.visible===false){ret=false;break;}p=p.parent;}return ret;},isVisual:function(obj){if(!("currentstyle" in obj)){return false;}return true;},isEnable:function(obj){if(!("enable" in obj)){return false;}if(obj.enable==false){return false;}var ret=true;var p=obj.parent;while(p){if(p instanceof ChildFrame){break;}if(p.enable===false){ret=false;break;}p=p.parent;}return ret;},_parseQueryCache:[],_tokenizeQueryWhere:function(str){var c;var i=0;var s;var n;var q;var result=[];var prefix='<>&|=*^$!';var suffix='=>&|';var length=str.length;c=str.charAt(i);while(c){if(c<=' '){i+=1;c=str.charAt(i);}else if((c>='a'&&c<='z')||(c>='A'&&c<='Z')||c=='_'){s=c;i+=1;for(;;){c=str.charAt(i);if((c>='a'&&c<='z')||(c>='A'&&c<='Z')||(c>='0'&&c<='9')||c==='_'){s+=c;i+=1;}else{break;}}if(s=='true'||s=='false'){result.push({type:'boolean',value:s});}else{result.push({type:'named',value:s});}}else if(c>='0'&&c<='9'){s=c;i+=1;for(;;){c=str.charAt(i);if(c<'0'||c>'9'){break;}i+=1;s+=c;}if(c==='.'){i+=1;s+=c;for(;;){c=str.charAt(i);if(c<'0'||c>'9'){break;}i+=1;s+=c;}}if(c==='e'||c==='E'){i+=1;s+=c;c=str.charAt(i);if(c==='-'||c==='+'){i+=1;s+=c;c=str.charAt(i);}if(c<'0'||c>'9'){trace("Bad exponent");}do{i+=1;s+=c;c=str.charAt(i);}while(c>='0'&&c<='9')}if(c>='a'&&c<='z'){s+=c;i+=1;trace("Bad number");}n= +s;if(isFinite(n)){result.push({type:'number',value:n});}else{trace("Bad number");}}else if(c==='\''||c==='"'){s='';q=c;i+=1;for(;;){c=str.charAt(i);if(c<' '){if(c==='\n'||c==='\r'||c===''){trace("Unterminated string.");}else{trace("Control character in string.");}}if(c===q){break;}if(c==='\\'){i+=1;if(i>=length){trace("Unterminated string");}c=str.charAt(i);switch(c){case 'b':c='\b';break;case 'f':c='\f';break;case 'n':c='\n';break;case 'r':c='\r';break;case 't':c='\t';break;case 'u':if(i>=length){trace("Unterminated string");}c=parseInt(str.substr(i+1,4),16);if(!isFinite(c)||c<0){trace("Unterminated string");}c=String.fromCharCode(c);i+=4;break;}}s+=c;i+=1;}i+=1;result.push({type:'string',value:s});c=str.charAt(i);}else if(c==='/'&&str.charAt(i+1)==='/'){i+=1;for(;;){c=str.charAt(i);if(c==='\n'||c==='\r'||c===''){break;}i+=1;}}else if(prefix.indexOf(c)>=0){s=c;i+=1;while(true){c=str.charAt(i);if(i>=length||suffix.indexOf(c)<0){break;}s+=c;i+=1;}result.push({type:'operator',value:s});}else{if("()[]".indexOf(c)> -1){result.push({type:'bracket',value:c});}else{result.push({type:'operator',value:c});}i+=1;c=str.charAt(i);}}return result;},_parseQueryWhere:function(where){var pThis=Eco.XComp;var cache=pThis._parseQueryCache[where];if(cache){return cache;}var token,type,value,temp;var tokens=pThis._tokenizeQueryWhere(where);var depth=0,maxDepth=0;var syntax=[];for(var i=0,len=tokens.length;i<len;i++ ){token=tokens[i];type=token.type;value=token.value;if(type=="bracket"){if(value=="("){syntax.push({depth:depth,type:"value",value:"("});depth+=1;maxDepth=depth;}else if(value==")"){depth-=1;syntax.push({depth:depth,type:"value",value:")"});}}else if(type=="named"){if(value=="prop"||value=="curStyle"||value=="style"){i+=1;token=tokens[i];if(token.type=="bracket"&&token.value=="["){i+=1;token=tokens[i];syntax.push({depth:depth,type:"operand",value:"Eco.XComp._getQueryCompValue(obj, \""+value+"\", \""+token.value+"\")"});}i+=1;}else if(value=="typeOf"||value=="isVisible"||value=="isVisual"||value=="isEnable"){syntax.push({depth:depth,type:"operand",value:"Eco.XComp."+value+"(obj)"});}}else if(type=="operator"){if(value=="&&"||value=="||"){syntax.push({depth:depth,type:"operator",value:value});}else{temp="";switch(value){case '==':temp="equal";break;case '!=':temp="notEqual";break;case '>':temp="greaterThan";break;case '>=':temp="greaterThanEqual";break;case '<':temp="lessThan";break;case '<=':temp="lessThanEqual";break;case '*=':temp="contains";break;case '^=':temp="startWith";break;case '$=':temp="endWith";break;}syntax.push({depth:depth,type:"replaceOperator",value:"Eco.XComp._operators."+temp+"($1, $2)"});}}else if(type=="string"){syntax.push({depth:depth,type:"operand",value:"\""+value+"\""});}else if(type=="number"||type=="boolean"){syntax.push({depth:depth,type:"operand",value:value});}}var s,s0,s1;for(var i=maxDepth;i>=0;i-- ){pThis._replaceOperator(i,syntax);}var result=[];for(var i=0,len=syntax.length;i<len;i++ ){s=syntax[i];result.push(syntax[i].value);}var fn="var f = function(obj) {\n	return "+result.join(" ")+";\n}";try{eval(fn);}catch(e){trace("eval error:"+e.description);}pThis._parseQueryCache[where]=f;return f;},_replaceOperator:function(depth,syntax){var s;for(var i=0,len=syntax.length;i<len;i++ ){s=syntax[i];if(s.depth==depth){if(s.type=="replaceOperator"){s0=syntax[i-1];s1=syntax[i+1];if(s0&&s0.depth==depth&&s0.type=="operand"&&s1&&s1.depth==depth&&s1.type=="operand"){temp=s.value;temp=temp.replace("$1",s0.value);temp=temp.replace("$2",s1.value);s.depth=s.depth-1;s.type="operand";s.value=temp;s0.depth=null;s1.depth=null;i+=1;}}}}for(var i=(syntax.length-1);i>=0;i-- ){s=syntax[i];if(s.depth==null){syntax.splice(i,1);i-- ;}}},_getQueryCompValue:function(obj,type,name){var ret;if(type=="prop"){ret=obj[name];}else if(type=="curStyle"){ret=obj.currentstyle[name];}else if(type=="style"){ret=obj.style[name];}if(ret&&typeof ret=="object"){if(ret.toString){ret=ret.toString();}else{ret=ret+"";}ret=ret.trim();}return ret;},_getAll:function(c){var children=[];var cs=c.all;if(cs){for(var i=0,len=cs.length;i<len;i++ ){children.push(cs[i]);}}else{cs=c.objects;if(cs){for(var i=0,len=cs.length;i<len;i++ ){children.push(cs[i]);}}cs=c.components;if(cs){for(var i=0,len=cs.length;i<len;i++ ){children.push(cs[i]);}}}return children;},_getChildren:function(from,depth){var pThis=Eco.XComp;var children=pThis._getAll(from);var results=[],c,cs0,recvCs;depth.current+=1;for(var i=0,len=children.length;i<len;i++ ){c=children[i];cs0=pThis._getAll(c);if(cs0&&cs0.length>0&&depth.max>=depth.current){results.push(c);recvCs=pThis._getChildren(c,depth);results=results.concat(recvCs);depth.current-=1;}else{results.push(c);}}return results;},query:function(from,where,deep){var pThis=Eco.XComp;if(!from||!Eco.isXComponent(from)){return [];}var depth={};depth.current=0;if(Eco.isNumber(deep)){depth.max=deep;}else if(nexacro.isNumeric(deep)){depth.max=parseInt(deep);}else{depth.max=Number.MAX_VALUE;}var results=[];var targets=pThis._getChildren(from,depth);if(Eco.isEmpty(where)){results=targets.slice(0);}else{var func=pThis._parseQueryWhere(where);var target,check;for(var i=0,len=targets.length;i<len;i++ ){target=targets[i];check=func.call(pThis,target);if(check){results.push(target);}}}return results;},getPathName:function(obj,refParent){var c=obj,arr=[];while(c){if(c instanceof ChildFrame){break;}if(refParent&&c===refParent){break;}arr.push(c.name);c=c.parent;}arr=arr.reverse();return arr.join(".");},getCompByPathName:function(pathName,p){var comps=[],i,len,comp;comps=pathName.split(".");for(i=0,len=comps.length;i<len;i++ ){comp=comps[i];p=p[comp];if(!p){break;}}return p;},lookup:function(p,name){var o;while(p){o=p.components;if(o&&o[name]){return o[name];}o=p.objects;if(o&&o[name]){return o[name];}p=p.parent;}return null;},contains:function(p,target){while(target){if(target==p){return true;}target=target.parent;}return false;},getTopLevelForm:function(curForm){var p=curForm;while(p&&!(p instanceof ChildFrame)){p=p.parent;}return p.form;},getPopupArguments:function(scope,varNameList){var p=scope;while(p&&!(p instanceof ChildFrame)){p=p.parent;}var valueList={};for(var i=0,len=varNameList.length;i<len;i++ ){valueList[varNameList[i]]=p[varNameList[i]];}return valueList;},getScriptForm:function(c){var p=c;while(p){if((p.url&&p.url.length)||(p.parent instanceof ChildFrame)){break;}p=p.parent;}return p;},setProperties:function(){var XComp=Eco.XComp;var count=arguments.length;if(count<=0){Eco.Logger.error({message:"argument doesn't exist!!",stack:true});}var target=arguments[0];if(Eco.isUndefined(XComp.typeOf(target))){Eco.Logger.error({message:"target must be a nexacro Component(Object) !!",stack:true});}var prop;for(var i=1;i<count;i+=2){prop=arguments[i];value=arguments[i+1];if(prop in target){if(target["set_"+prop]){target['set_'+prop](value);}}}},getProperties:function(){var XComp=Eco.XComp;var count=arguments.length;if(count<=0){Eco.Logger.error({message:"argument doesn't exist!!",stack:true});}var target=arguments[0];if(Eco.isUndefined(XComp.typeOf(target))){Eco.Logger.error({message:"target must be a nexacro Component(Object) !!",stack:true});}var results=[];var prop;for(var i=1;i<count;i++ ){results.push(target[arguments[i]]);}return results;},_CRLF:String.fromCharCode(13,10),_INDENT:"	",_getLayoutString:function(container,depth){if(Eco.isEmpty(depth)){depth=0;}var pThis=Eco.XComp;var CRLF=pThis._CRLF;var INDENT=pThis._INDENT;var n=depth;var indent="";while(n>0){indent+=INDENT;n-- ;}var layout="";var list=container.components;if(list){var comp,type;var typeOf=Eco.XComp.typeOf;for(var i=0,len=list.length;i<len;i++ ){comp=list[i];type=typeOf(comp);if(type=="Div"||type=="Tabpage"){layout+=indent+"<"+type+" id=\""+comp.name+"\""+pThis._getPropString(comp);if(Eco.isEmpty(comp.url)&&comp.components.length>0){layout+=">"+CRLF;layout+=indent+INDENT+"<Layouts>"+CRLF;layout+=indent+INDENT+INDENT+"<Layout>"+CRLF;layout+=pThis._getLayoutString(comp,depth+3);layout+=indent+INDENT+INDENT+"</Layout>"+CRLF;layout+=indent+INDENT+"</Layouts>"+CRLF;layout+=indent+"</"+type+">"+CRLF;}else{layout+="/>"+CRLF;}}else if(type=="Tab"){layout+=indent+"<Tab id=\""+comp.name+"\""+pThis._getPropString(comp);if(comp.components.length>0){layout+=">"+CRLF;layout+=indent+INDENT+"<Tabpages>"+CRLF;layout+=pThis._getLayoutString(comp,depth+2);layout+=indent+INDENT+"</Tabpages>"+CRLF;layout+=indent+"</Tab>"+CRLF;}else{layout+="/>"+CRLF;}}else{layout+=indent+pThis._getCompTagString(comp,indent);}}}return layout;},_getCompTagString:function(comp,indent){if(!Eco.isXComponent(comp)){return "";}var pThis=Eco.XComp;var CRLF=pThis._CRLF;var INDENT=pThis._INDENT;var type=pThis.typeOf(comp);var layout="<"+type+" id=\""+comp.name+"\""+pThis._getPropString(comp);var needEndTag=false;if(type=="Grid"||type=="Splitter"){var formatid=comp.formatid||"default";var format=comp.getFormatString();var search="<Format id=\""+formatid+"\">";var sIndex=format.indexOf(search);var eIndex=format.indexOf("</Format>",sIndex)+9;var curFormat="";curFormat+=format.substring(0,sIndex);curFormat+=comp.getCurFormatString();curFormat+=format.substr(eIndex);curFormat=curFormat.replace(/SplitterItmes/g,"SplitterItems");var formatXml=curFormat.split(String.fromCharCode(10));curFormat="";for(var i=0,len=formatXml.length;i<len;i++ ){curFormat+=indent+INDENT+formatXml[i]+CRLF;}layout+=">"+CRLF;layout+=curFormat;needEndTag=true;}else if(type=="Panel"){var items=comp.items;var len=items.length;if(len>0){layout+=">"+CRLF;layout+=indent+INDENT+"<PanelItems id=\"items\">"+CRLF;var item,str;for(var i=0;i<len;i++ ){item=items[i];str="<PanelItem id=\""+item.name+"\"";for(var p in item){if(p!="name"&&item.hasOwnProperty(p)){str+=" "+p+"=\""+item[p]+"\"";}}str+="/>";layout+=indent+INDENT+INDENT+str+CRLF;}layout+=indent+INDENT+"</PanelItems>"+CRLF;needEndTag=true;}}var innerDs=comp.innerdataset;if(pThis.typeOf(innerDs)=="Dataset"){var ds=pThis.lookup(comp.parent,innerDs.name);if(Eco.isEmpty(ds)){var dsXml=innerDs.saveXML().split(CRLF);var dsStr="";for(var i=0,len=dsXml.length;i<len;i++ ){dsStr+=indent+INDENT+dsXml[i]+CRLF;}layout+=">"+CRLF;layout+=dsStr;needEndTag=true;}}if(needEndTag){layout+=indent+"</"+type+">"+CRLF;}else{layout+="/>"+CRLF;}return layout;},_ignoreDefaultProps:["name","parent","opener","all","components","objects","binds","bindgestureset","hscrollbar","vscrollbar","resizebutton","position","position2","positiontype","stepcontrol","canvas","currentstyle","style","popupwindow","innerdataset"],_ignoreCompProps:{'Form':["taborder","tabstop","layout"],'Div':["layout"],'PopupDiv':["layout"],'Combo':["dropbutton","comboedit","combolist"],'Menu':["popupmenu"],'Tab':["tabpages"],'Tabpage':["layout"],'Calendar':["popupcalendar","calendaredit","spinupbutton","spindownbutton"],'Grid':["formats","head","body","summ","summary","controltextarea","controlmaskedit","controlcombo","controlcalendar","controlbutton","controlcheckbox","controlprogressbar","controlexpand"],'Spin':["spinupbutton","spindownbutton","spinedit"],'Splitter':["formats","items"],'Panel':["items"]},_cacheIgnoreProps:{},_cacheCompareComp:{},_getPropString:function(targetComp){var pThis=Eco.XComp;var type=pThis.typeOf(targetComp);var form=pThis._serializeFormTarget;var defaultComp=pThis._cacheCompareComp[type];if(!defaultComp){defaultComp=new form[type]("_serializeForm_"+type,0,0,0,0);pThis._cacheCompareComp[type]=defaultComp;}var ignoreProps=pThis._cacheIgnoreProps[type];if(!ignoreProps){var ignoreComp=pThis._ignoreCompProps[type]||[];ignoreProps=pThis._cacheIgnoreProps[type]=pThis._ignoreDefaultProps.concat(ignoreComp);}var tag="";var style="";var styles=Eco.XComp.Style.getStyle(targetComp);for(var p in styles){if(styles.hasOwnProperty(p)){style+=p+":"+styles[p]+";";}}if(style.length>0){tag+=" style=\""+style+"\"";}var positiontype="position";if(targetComp.positiontype){positiontype=targetComp.positiontype.toString();if(positiontype!=defaultComp.positiontype.toString()){tag+=" positiontype=\""+positiontype+"\"";}}if(targetComp[positiontype]){var targetPosition=targetComp[positiontype].toString();var defaultPosition=defaultComp[positiontype].toString();if(targetPosition!=defaultPosition){tag+=" "+positiontype+"=\""+targetPosition+"\"";}}var targetVal,defaultVal;var indexOf=Eco.array.indexOf;for(var p in targetComp){if(!targetComp.hasOwnProperty(p)){continue;}if(!(p in defaultComp)){continue;}if(indexOf(ignoreProps,p)> -1){continue;}targetVal=targetComp[p];defaultVal=defaultComp[p];if(targetVal===undefined){continue;}if(targetVal instanceof UserEvent){continue;}if(Eco.isFunction(targetVal)){continue;}if(targetComp.components&&targetComp.components[p]){continue;}if(targetComp.objects&&targetComp.objects[p]){continue;}if(typeof targetVal=="object"){if(p=="innerdataset"&&targetVal){var ds=pThis.lookup(targetComp.parent,targetVal.name);if(!Eco.isEmpty(ds)){tag+=" innerdataset=\"@"+ds.name+"\"";}continue;}else if(p=="bindgestureset"){tag+=" "+p+"=\"@"+targetVal.name+"\"";continue;}var v0=targetVal?targetVal.toString():"";var v1=defaultVal?defaultVal.toString():"";if(v0!=v1){tag+=" "+p+"=\""+v0.toString()+"\"";}}else{if(p=="taborder"||p=="class"){if(!Eco.isEmpty(targetVal)){tag+=" "+p+"=\""+targetVal+"\"";}}else if(p=="text"||p=="value"){if(!Eco.isEmpty(targetVal)){tag+=" "+p+"=\""+Eco.string.escapeXML(targetVal)+"\"";}}else{if(defaultVal!=targetVal){tag+=" "+p+"=\""+targetVal+"\"";}}}}return tag;},_userPropertyPrefix:Eco.getUniqueId(),setUserProperty:function(target,name,value){var propName=Eco.XComp._userPropertyPrefix;propName+="_"+name;target[propName]=value;},getUserProperty:function(target,name){var propName=Eco.XComp._userPropertyPrefix;propName+="_"+name;return target[propName];},deleteUserProperty:function(target,name){var propName=Eco.XComp._userPropertyPrefix;propName+="_"+name;delete target[propName];}});}if(!JsNamespace.exist("Eco.XComp.PositionSize")){JsNamespace.declare("Eco.XComp.PositionSize",{getTopLevelFormBox:function(XComp){var topForm=Eco.XComp.getTopLevelForm(XComp);var xy=Eco.XComp.PositionSize.convertXY(topForm,[0,0],XComp);return [xy[0],xy[1],XComp.getOffsetWidth(),XComp.getOffsetHeight()];},convertXY:function(XCompA,xy,XCompB){var tempX,tempY;var x,y;if(XCompB){tempX=system.clientToScreenX(XCompB,xy[0]);tempY=system.clientToScreenY(XCompB,xy[1]);var pThis=Eco.XComp.PositionSize;x=system.screenToClientX(XCompA,tempX)+pThis.getScrollLeft(XCompA);y=system.screenToClientY(XCompA,tempY)+pThis.getScrollTop(XCompA);}else{x=xy[0];y=xy[1];}return [x,y];},getScrollTop:function(XComp){return (XComp.vscrollbar&&XComp.vscrollbar.visible?XComp.vscrollbar.pos:0);},getScrollLeft:function(XComp){return (XComp.hscrollbar&&XComp.hscrollbar.visible?XComp.hscrollbar.pos:0);},getScrollBarSize:function(XComp,type){var scrollBar=(type=="horz")?XComp.hscrollbar:XComp.vscrollbar;var size=0;if(scrollBar){size=scrollBar.currentstyle.scrollbarsize;return (size===null?(type=="horz"?scrollBar.getOffsetHeight():scrollBar.getOffsetWidth()):size);}else{return size;}},getCurrentScrollBarSize:function(XComp,type){var scrollBar=(type=="horz")?XComp.hscrollbar:XComp.vscrollbar;return (scrollBar&&scrollBar.visible?(type=="horz"?scrollBar.getOffsetHeight():scrollBar.getOffsetWidth()):0);},getClientWidth:function(XComp,wholeWidth){var clientwidth=0,borderWidths=0,marginWidths=0,scrollbarSize=0;if(wholeWidth){clientwidth=wholeWidth;}else{clientwidth=XComp.getOffsetWidth();}borderWidths=Eco.XComp.Style.getBorderWidth(XComp);marginWidths=Eco.XComp.Style.getMargin(XComp);clientwidth-=borderWidths[0]+borderWidths[2];clientwidth-=marginWidths[0]+marginWidths[2];scrollbarSize=Eco.XComp.PositionSize.getCurrentScrollBarSize(XComp,"horz");clientwidth-=scrollbarSize;return clientwidth;},getClientHeight:function(XComp,wholeHeight){var clientheight=0,borderWidths=0,marginWidths=0,scrollbarSize=0;if(wholeHeight){clientheight=wholeHeight;}else{clientheight=XComp.getOffsetHeight();}borderWidths=Eco.XComp.Style.getBorderWidth(XComp);marginWidths=Eco.XComp.Style.getMargin(XComp);clientheight-=borderWidths[1]+borderWidths[3];clientheight-=marginWidths[1]+marginWidths[3];scrollbarSize=Eco.XComp.PositionSize.getCurrentScrollBarSize(XComp);clientheight-=scrollbarSize;return clientheight;},getScrollWidth:function(XComp){var scrollwidth=0;scrollwidth=(XComp.hscrollbar&&XComp.hscrollbar.visible?XComp.hscrollbar.max:0);scrollwidth+=Eco.XComp.PositionSize.getClientWidth(XComp);return scrollwidth;},getScrollHeight:function(XComp){var scrollheight=0;scrollheight=(XComp.vscrollbar&&XComp.vscrollbar.visible?XComp.vscrollbar.max:0);scrollheight+=Eco.XComp.PositionSize.getClientHeight(XComp);return scrollheight;},_fontCache:{},getTextSize:function(XComp,text,multiline,content_width,fitText){var font;if(XComp instanceof nexacro.Style_font){font=XComp;multiline=Eco.isEmpty(multiline)?false:multiline;if(multiline&&content_width==null){content_width=50;}}else{font=XComp.currentstyle.font;if(Eco.isEmpty(font)){font=nexacro.Component._default_font;}text=Eco.isEmpty(text)?XComp.text:text;if(Eco.isEmpty(multiline)){if(XComp["wordwrap"]!=null){multiline=XComp["wordwrap"]!="none"?true:false;}}if(multiline&&content_width==null){content_width=XComp.getOffsetWidth();}}var size=[0,0];if(Eco.isEmpty(text)){return size;}if(nexacro.Browser!="Runtime"){var _handle=Eco._textSizeDiv;if(!_handle){var _doc=nexacro._managerFrameDoc;_handle=_doc.createElement("div");_doc.body.appendChild(_handle);Eco._textSizeDiv=_handle;}var _style=_handle.style;_style.position="absolute";_style.visibility="hidden";if(multiline){_style.width=content_width+"px";_style.height="auto";_style.whiteSpace="pre-wrap";_style.wordBreak="break-all";_style.wordWrap="break-word";}else{_style.width="auto";_style.height="auto";_style.whiteSpace="pre";_style.wordWrap="normal";}_style.font=font._sysvalue;if(fitText==true){_style.lineHeight="100%";}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_handle.innerText=text;var rect=_handle.getBoundingClientRect();size=[rect.right-rect.left,rect.bottom-rect.top];}else{_handle.innerHTML=text;var rect=_handle.getBoundingClientRect();size=[rect.width,rect.height];}}else{size=nexacro._getTextSize2(text,font,multiline,content_width);}size[0]=Math.ceil(size[0]);size[1]=Math.ceil(size[1]);return size;},getImageSize:function(url,callback,scope){if(!url){return null;}if(url.substring(0,4).toLowerCase()=="url("){url=url.substring(5,url.length-2);}if(!url){return null;}var refUrl;if(scope&&scope._getRefFormBaseUrl){refUrl=scope._getRefFormBaseUrl();}else{refUrl=application.getActiveForm();}var img_url="";if(application["_getImageLocation"]){img_url=application._getImageLocation(url,refUrl);}else{img_url=nexacro._getImageLocation(url,refUrl);}var size=nexacro._ImgInfoCacheList[img_url];if(size){callback.call(scope,url,size.width,size.height);}else{var pThis=Eco.XComp.PositionSize;pThis._getImageSizeCallbackInfo[img_url]=[url,callback,scope];size=nexacro._getImageSize(img_url,pThis._getImageSizeOnLoad,pThis);if(size){callback.call(scope,url,size.width,size.height);}}},_getImageSizeCallbackInfo:{},_getImageSizeOnLoad:function(url,width,height){var pThis=Eco.XComp.PositionSize;var info=pThis._getImageSizeCallbackInfo[url];info[1].call(info[2],info[0],width,height);delete pThis._getImageSizeCallbackInfo[url];},getContentSize:function(XComp,width){var size=[0,0];if(Eco.isXComponent(XComp)){var w=0,h=0;if(!Eco.isEmpty(XComp.hscrollbar)&&!Eco.isEmpty(XComp.vscrollbar)){if(Eco.XComp.typeOf(XComp)=="Tabpage"){w=XComp.getOffsetWidth();h=XComp.getOffsetHeight();}else{w=XComp.getOffsetWidth();h=XComp.getOffsetHeight();}size=[w,h];}else{var sz=this._getStyleSpaceSize(XComp),borderHeight=sz[1];w+=sz[0];h+=sz[1];var text=XComp.text;if(Eco.isEmpty(text)){sz=Eco.XComp.PositionSize.getTextSize(XComp,"W",false);}else{if(Eco.isNumber(width)){sz=Eco.XComp.PositionSize.getTextSize(XComp,text,true,width);}else{sz=Eco.XComp.PositionSize.getTextSize(XComp,text,false);}}w+=sz[0];h+=sz[1];var type=Eco.XComp.typeOf(XComp),curstyle=XComp.currentstyle;if(type=="Calendar"){if(XComp.type=="monthonly"){return [XComp.getOffsetWidth(),XComp.getOffsetHeight()];}else{sz=Eco.XComp.PositionSize._getStyleSpaceSize(XComp.calendaredit);w+=sz[0];h+=sz[1];}}else if(type=="Combo"){sz=Eco.XComp.PositionSize._getStyleSpaceSize(XComp.comboedit);w+=sz[0];h+=sz[1];}else if(type=="Radio"){var itempadding=curstyle.itempadding;w+=isNaN(itempadding.left)?0:itempadding.left;w+=isNaN(itempadding.right)?0:itempadding.right;h+=isNaN(itempadding.top)?0:itempadding.top;h+=isNaN(itempadding.bottom)?0:itempadding.bottom;}if(type=="CheckBox"||type=="Radio"){}var buttonsize;if(curstyle.buttonsize){buttonsize=nexacro.toNumber(curstyle.buttonsize.value);}if(!isNaN(buttonsize)){if(buttonsize<0){w+=h;}else{w+=buttonsize;}}var textpadding=curstyle.textpadding;if(textpadding){w+=isNaN(textpadding.left)?0:textpadding.left;w+=isNaN(textpadding.right)?0:textpadding.right;h+=isNaN(textpadding.top)?0:textpadding.top;h+=isNaN(textpadding.bottom)?0:textpadding.bottom;}if(!isNaN(buttonsize)){h=Math.max(h,buttonsize+borderHeight);}size[0]=w;size[1]=h;}}return size;},_getStyleSpaceSize:function(XComp){var Style=Eco.XComp.Style;var w=0,h=0;var margin=Style.getMargin(XComp);w+=margin[0]+margin[2];h+=margin[1]+margin[3];var border=Style.getBorderWidth(XComp);w+=border[0]+border[2];h+=border[1]+border[3];var padding=Style.getPadding(XComp);w+=padding[0]+padding[2];h+=padding[1]+padding[3];return [w,h];},getPopupPosition:function(XComp,width,height,direction,offset){return this.getPositionByForm(XComp,width,height,direction,offset);},getPositionByForm:function(XComp,width,height,direction,offset,scopeXComp){var w=0,h=0;var relativeXComp;if(scopeXComp){w=scopeXComp.getOffsetWidth();h=scopeXComp.getOffsetHeight();relativeXComp=scopeXComp;}else{var _window=XComp._getWindow();w=_window.clientWidth;h=_window.clientHeight;relativeXComp=application.mainframe;}var xy=Eco.XComp.PositionSize.convertXY(relativeXComp,[0,0],XComp);var x=xy[0];var y=xy[1];if(isNaN(xy[0])||isNaN(xy[1])){return;}var x=[xy[0],xy[0]+XComp.getOffsetWidth()];var y=[xy[1],xy[1]+XComp.getOffsetHeight()];var rect={'left':0,'top':0,'right':w,'bottom':h,'width':w,'height':h};var position=Eco.XComp.PositionSize._getDisplayPosition(width,height,x,y,rect,direction,offset);return position;},_getDisplayPosition:function(width,height,screenX,screenY,screenRect,direction,offset,isChange){if(isChange!=true){isChange=false;}var pThis=Eco.XComp.PositionSize;var position;if(direction=="horz"){position=pThis._getHorizontalPosition(width,height,screenX,screenY,screenRect,direction,offset,isChange);}else if(direction=="vert"){position=pThis._getVerticalPosition(width,height,screenX,screenY,screenRect,direction,offset,isChange);}var side=position[0];if(position[1]===undefined&&position[2]===undefined){if(width>screenRect.width){width=screenRect.width;}if(height>screenRect.height){height=screenRect.height;}position=[side,screenRect.left,screenRect.top,width,height];}else if(position[1]===undefined){position=[side,screenRect.left,position[2],screenRect.width,height];}else if(position[2]===undefined){position=[side,position[1],screenRect.top,width,screenRect.height];}return position;},_getVerticalPosition:function(width,height,screenX,screenY,screenRect,direction,offset,isChange){var pThis=Eco.XComp.PositionSize;var side;if(screenRect.bottom>=(screenY[1]+height+offset)){side="bottom";screenY=screenY[1]+offset;}else if(screenRect.top<(screenY[0]-height-offset)){side="top";screenY=screenY[0]-height-offset;}else{if(isChange==true){return ["right",undefined,undefined];}direction=(direction=="vert")?"horz":"vert";var position=pThis._getDisplayPosition(width,height,screenX,screenY,screenRect,direction,offset,true);return position;}screenX=pThis._getHorizontalAlign(width,height,screenX,screenY,screenRect,direction,offset);return [side,screenX,screenY];},_getHorizontalPosition:function(width,height,screenX,screenY,screenRect,direction,offset,isChange){var pThis=Eco.XComp.PositionSize;var side;if(screenRect.right>=(screenX[1]+width+offset)){side="right";screenX=screenX[1]+offset;}else if(screenRect.left<(screenX[0]-width-offset)){side="left";screenX=screenX[0]-width-offset;}else{if(isChange==true){return ["bottom",undefined,undefined];}direction=(direction=="vert")?"horz":"vert";var position=pThis._getDisplayPosition(width,height,screenX,screenY,screenRect,direction,offset,true);return position;}screenY=pThis._getVerticalAlign(width,height,screenX,screenY,screenRect,direction,offset);return [side,screenX,screenY];},_getHorizontalAlign:function(width,height,screenX,screenY,screenRect,direction,offset){var spaceSize=screenRect.right-(screenX[0]+width);if(spaceSize>=0){screenX=screenX[0];}else if(spaceSize<0){screenX=screenX[0]+spaceSize;if(screenX<screenRect.left){screenX=undefined;}}else{screenX=undefined;Eco.Logger.error({message:"unexpected situation!!",stack:true});}return screenX;},_getVerticalAlign:function(width,height,screenX,screenY,screenRect,direction,offset){var spaceSize=screenRect.bottom-(screenY[0]+height);if(spaceSize>=0){screenY=screenY[0];}else if(spaceSize<0){screenY=screenY[0]+spaceSize;if(screenY<screenRect.top){screenY=undefined;}}else{screenY=undefined;Eco.Logger.error({message:"unexpected situation!!",stack:true});}return screenY;}});}if(!JsNamespace.exist("Eco.Json")){JsNamespace.declare("Eco.Json",{_Token_Type:{UNKNOWN: -1,COMMA:0,LEFT_BRACE:1,RIGHT_BRACE:2,LEFT_BRACKET:3,RIGHT_BRACKET:4,COLON:6,TRUE:7,FALSE:8,NULL:9,STRING:10,NUMBER:11,NAN:12},decode:(typeof JSON=="undefined")?function(s,strict){if(Eco.isEmpty(s)){return;}var pThis=Eco.Json;pThis._jsonString=s;pThis._strict=strict;pThis._loc=0;pThis._ch=null;pThis._nextChar();pThis._nextToken();pThis._value=pThis._parseValue();if(strict&&pThis._nextToken()!=null){pThis._parseError("Unexpected characters left in input stream");}return pThis._value;}:function(s){if(Eco.isEmpty(s)){return;}return JSON.parse(s);},_nextToken:function(){var pThis=Eco.Json;return pThis._token=pThis.getNextToken();},_parseArray:function(){var a=[];var token;var pThis=Eco.Json;var strict=pThis._strict;token=pThis._nextToken();var tokenType=pThis._Token_Type;if(token.type==tokenType.RIGHT_BRACKET){return a;}else if(!strict&&token.type==tokenType.COMMA){token=pThis._nextToken();if(token.type==tokenType.RIGHT_BRACKET){return a;}else{pThis._parseError("Leading commas are not supported.  Expecting ']' but found "+token.value);}}while(true){a.push(pThis._parseValue());token=pThis._nextToken();if(token.type==tokenType.RIGHT_BRACKET){return a;}else if(token.type==tokenType.COMMA){token=pThis._nextToken();if(!strict){if(token.type==tokenType.RIGHT_BRACKET){return a;}}}else{pThis._parseError("Expecting ] or , but found "+token.value);}}return null;},_parseObject:function(){var pThis=Eco.Json;var o={};var strict=pThis._strict;var key;var token=pThis._nextToken();var tokenType=pThis._Token_Type;if(token.type==tokenType.RIGHT_BRACE){return o;}else if(!strict&&token.type==tokenType.COMMA){token=pThis._nextToken();if(token.type==tokenType.RIGHT_BRACE){return o;}else{pThis._parseError("Leading commas are not supported.  Expecting '}' but found "+token.value);}}while(true){if(token.type==tokenType.STRING){key=String(token.value);token=pThis._nextToken();if(token.type==tokenType.COLON){token=pThis._nextToken();o[key]=pThis._parseValue();token=pThis._nextToken();if(token.type==tokenType.RIGHT_BRACE){return o;}else if(token.type==tokenType.COMMA){token=pThis._nextToken();if(!strict){if(token.type==tokenType.RIGHT_BRACE){return o;}}}else{pThis._parseError("Expecting } or , but found "+token.value);}}else{pThis._parseError("Expecting : but found "+token.value);}}else{pThis._parseError("Expecting string but found "+token.value);}}return null;},_parseValue:function(){var pThis=Eco.Json;var strict=pThis._strict;var token=pThis._token;if(token==null){pThis._parseError("Unexpected end of input");}var tokenType=pThis._Token_Type;switch(token.type){case tokenType.LEFT_BRACE:return pThis._parseObject();case tokenType.LEFT_BRACKET:return pThis._parseArray();case tokenType.STRING:case tokenType.NUMBER:case tokenType.TRUE:case tokenType.FALSE:case tokenType.NULL:return token.value;case tokenType.NAN:if(!strict){return token.value;}else{pThis._parseError("Unexpected "+token.value);}default:pThis._parseError("Unexpected "+token.value);}return null;},encode:(typeof JSON=="undefined")?function(value){return Eco.Json._convertToString(value);}:function(value){return JSON.stringify(value);},_convertToString:function(value){var pThis=Eco.Json;if(Eco.isString(value)){return pThis._escapeString(value);}else if(Eco.isNumber(value)){return isFinite(value)?value.toString():"null";}else if(Eco.isBoolean(value)){return value?"true":"false";}else if(Eco.isArray(value)){return pThis._arrayToString(value);}else if(Eco.isXComponent(value)){return value.name;}else if(value){return pThis._objectToString(value);}return "null";},_escapeString:function(str){var s="";var ch;var len=str.length;for(var i=0;i<len;i++ ){ch=str.charAt(i);switch(ch){case '"':s+="\\\"";break;case '\\':s+="\\\\";break;case '\b':s+="\\b";break;case '\f':s+="\\f";break;case '\n':s+="\\n";break;case '\r':s+="\\r";break;case '\t':s+="\\t";break;default:if(ch<' '){var hexCode=ch.charCodeAt(0).toString(16);var zeroPad=hexCode.length==2?"00":"000";s+="\\u"+zeroPad+hexCode;}else{s+=ch;}}}return "\""+s+"\"";},_arrayToString:function(a){var pThis=Eco.Json;var s="";for(var i=0;i<a.length;i++ ){if(s.length>0){s+=",";}s+=pThis._convertToString(a[i]);}return "["+s+"]";},_objectToString:function(o){var s="";var pThis=Eco.Json;if(Eco.isObject(o)){var value;for(var key in o){if(o.hasOwnProperty(key)){value=o[key];if(Eco.isFunction(value)){continue;}if(s.length>0){s+=",";}s+=pThis._escapeString(key)+":"+pThis._convertToString(value);}}}else{var value;var propName;var props=o._properties;var getter;trace("json.js > _objectToString > ■ start 테스트를 위한 임의설정 ");if(props===undefined){trace("json.js > _objectToString > s="+s);return "{"+s+"}";}for(var i=0,len=props.length;i<len;i++ ){propName=props[i];if(propName=="name"){continue;}getter=o["get"+propName.charAt(0).toUpperCase()+propName.substr(1)];if(getter){value=getter.call(o);}else{value=o["_"+propName];}if(s.length>0){s+=",";}s+=pThis._escapeString(propName)+":"+pThis._convertToString(value);}}return "{"+s+"}";},setToken:function(type,value){Eco.Json._token={type:type,value:value};},getToken:function(){return Eco.Json._token;},getNextToken:function(){var pThis=Eco.Json;pThis.skipIgnored();var tokenType=pThis._Token_Type;var ch=pThis._ch;switch(ch){case '{':pThis.setToken(tokenType.LEFT_BRACE,'{');pThis._nextChar();break;case '}':pThis.setToken(tokenType.RIGHT_BRACE,'}');pThis._nextChar();break;case '[':pThis.setToken(tokenType.LEFT_BRACKET,'[');pThis._nextChar();break;case ']':pThis.setToken(tokenType.RIGHT_BRACKET,']');pThis._nextChar();break;case ',':pThis.setToken(tokenType.COMMA,',');pThis._nextChar();break;case ':':pThis.setToken(tokenType.COLON,':');pThis._nextChar();break;case 't':var possibleTrue="t"+pThis._nextChar()+pThis._nextChar()+pThis._nextChar();if(possibleTrue=="true"){pThis.setToken(tokenType.TRUE,true);pThis._nextChar();}else{pThis._parseError("Expecting 'true' but found "+possibleTrue);}break;case 'f':var possibleFalse="f"+pThis._nextChar()+pThis._nextChar()+pThis._nextChar()+pThis._nextChar();if(possibleFalse=="false"){pThis.setToken(tokenType.FALSE,false);pThis._nextChar();}else{pThis._parseError("Expecting 'false' but found "+possibleFalse);}break;case 'n':var possibleNull="n"+pThis._nextChar()+pThis._nextChar()+pThis._nextChar();if(possibleNull=="null"){pThis.setToken(tokenType.NULL,null);pThis._nextChar();}else{pThis._parseError("Expecting 'null' but found "+possibleNull);}break;case 'N':var possibleNaN="N"+pThis._nextChar()+pThis._nextChar();if(possibleNaN=="NaN"){pThis.setToken(tokenType.NAN,NaN);pThis._nextChar();}else{pThis._parseError("Expecting 'NaN' but found "+possibleNaN);}break;case '"':pThis._readString();break;default:if(pThis._isDigit(ch)||ch=='-'){pThis._readNumber();}else if(ch==''){return null;}else{pThis._parseError("Unexpected "+ch+" encountered");}}return pThis._token;},_readString:function(){var pThis=Eco.Json;var string="";var ch=pThis._nextChar();while(ch!='"'&&ch!=''){if(ch=='\\'){ch=pThis._nextChar();switch(ch){case '"':string+='"';break;case '/':string+="/";break;case '\\':string+='\\';break;case 'b':string+='\b';break;case 'f':string+='\f';break;case 'n':string+='\n';break;case 'r':string+='\r';break;case 't':string+='\t';break;case 'u':var hexValue="";for(var i=0;i<4;i++ ){if(!pThis._isHexDigit(ch=pThis._nextChar())){pThis._parseError(" Excepted a hex digit, but found: "+ch);}hexValue+=ch;}string+=String.fromCharCode(parseInt(hexValue,16));break;default:string+='\\'+ch;}}else{string+=ch;}ch=pThis._nextChar();}if(ch==''){pThis._parseError("Unterminated string literal");}pThis._nextChar();pThis.setToken(pThis._Token_Type.STRING,string);},_readNumber:function(){var pThis=Eco.Json;var input="";var ch=pThis._ch;var strict=pThis._strict;if(ch=='-'){input+='-';ch=pThis._nextChar();}if(!pThis._isDigit(ch)){pThis._parseError("Expecting a digit");}if(ch=='0'){input+=ch;ch=pThis._nextChar();if(pThis._isDigit(ch)){pThis._parseError("A digit cannot immediately follow 0");}else if(!strict&&ch=='x'){input+=ch;ch=pThis._nextChar();if(pThis._isHexDigit(ch)){input+=ch;ch=pThis._nextChar();}else{pThis._parseError("Number in hex format require at least one hex digit after \"0x\"");}while(pThis._isHexDigit(ch)){input+=ch;ch=pThis._nextChar();}}}else{while(pThis._isDigit(ch)){input+=ch;ch=pThis._nextChar();}}if(ch=='.'){input+='.';ch=pThis._nextChar();if(!pThis._isDigit(ch)){pThis._parseError("Expecting a digit");}while(pThis._isDigit(ch)){input+=ch;ch=pThis._nextChar();}}if(ch=='e'||ch=='E'){input+="e";ch=pThis._nextChar();if(ch=='+'||ch=='-'){input+=ch;ch=pThis._nextChar();}if(!pThis._isDigit(ch)){pThis._parseError("Scientific notation number needs exponent value");}while(pThis._isDigit(ch)){input+=ch;ch=pThis._nextChar();}}var num=Number(input);if(isFinite(num)&&!isNaN(num)){pThis.setToken(pThis._Token_Type.NUMBER,num);return;}else{pThis._parseError("Number "+num+" is not valid!");}pThis._token=null;},_nextChar:function(){var pThis=Eco.Json;return pThis._ch=pThis._jsonString.charAt(pThis._loc++ );},skipIgnored:function(){var originalLoc;var pThis=Eco.Json;do{originalLoc=pThis._loc;pThis._skipWhite();pThis._skipComments();}while(originalLoc!=pThis._loc)},_skipComments:function(){var pThis=Eco.Json;var ch=pThis._ch;if(ch=='/'){ch=pThis._nextChar();switch(ch){case '/':do{ch=pThis._nextChar();}while(ch!='\n'&&ch!='')ch=pThis._nextChar();break;case '*':ch=pThis._nextChar();while(true){if(ch=='*'){ch=pThis._nextChar();if(ch=='/'){ch=pThis._nextChar();break;}}else{ch=pThis._nextChar();}if(ch==''){pThis._parseError("Multi-line comment not closed");}}break;default:pThis._parseError("Unexpected "+ch+" encountered (expecting '/' or '*' )");}}},_skipWhite:function(){var pThis=Eco.Json;var ch=pThis._ch;while(pThis._isWhiteSpace(ch)){ch=pThis._nextChar();}},_isWhiteSpace:function(ch){return (ch==' '||ch=='\t'||ch=='\n'||ch=='\r');},_isDigit:function(ch){return (ch>='0'&&ch<='9');},_isHexDigit:function(ch){var uc=ch.toUpperCase();return (Eco.Json._isDigit(ch)||(uc>='A'&&uc<='F'));},_parseError:function(msg){Eco.Logger.error({"message":msg,"stack":true});}});}if(!JsNamespace.exist("Eco.XComp.Event")){JsNamespace.declare("Eco.XComp.Event",{"add":function(XComp,events,scope){for(var type in events){if(events.hasOwnProperty(type)){XComp.addEventHandler(type,events[type],scope);}}},"remove":function(XComp,events,scope){for(var type in events){if(events.hasOwnProperty(type)){XComp.removeEventHandler(type,events[type],scope);}}},"makeDraggable":function(XComp,draggingFunc,scope,addArgs,isOffsetFromStart,delayTask){if(Eco.isObject(draggingFunc)){XComp._dragFuncs={"draggingFunc":draggingFunc.dragging,"draggingStartFunc":draggingFunc.start,"draggingEndFunc":draggingFunc.end,"args":addArgs,"mouseEventInfo":draggingFunc.mouseEventInfo,"isOffsetFromStart":isOffsetFromStart};}else{XComp._dragFuncs={"draggingFunc":draggingFunc,"args":addArgs,"mouseEventInfo":draggingFunc.mouseEventInfo,"isOffsetFromStart":isOffsetFromStart};}Eco.XComp.Event.add(XComp,{"onlbuttondown":Eco.XComp.Event._dragDownHandler,"onlbuttonup":Eco.XComp.Event._dragUpHandler},scope);XComp.__scope=scope;if(delayTask){XComp._delayDragProc=true;}else{XComp._delayDragProc=null;}},"clearDraggable":function(XComp){if(XComp._dragFuncs){XComp._dragFuncs=null;XComp._delayDragProc=null;Eco.XComp.Event.remove(XComp,{"onlbuttondown":Eco.XComp.Event._dragDownHandler,"onlbuttonup":Eco.XComp.Event._dragUpHandler});var topForm=Eco.XComp.getTopLevelForm(XComp.parent);var uniqueId=XComp._unique_id;var hasDragComp=false;var dragComps=topForm.__makeDraggableTargets;for(var id in dragComps){if(dragComps.hasOwnProperty(id)){if(id==uniqueId){delete dragComps[id];}else{hasDragComp=true;}}}if(!hasDragComp&&topForm.findEventHandler("onmousemove",Eco.XComp.Event._dragMoveHandler)> -1){topForm.__makeDraggableTargets=null;topForm.__makeDraggableCurComp=null;delete topForm.__makeDraggableTargets;delete topForm.__makeDraggableCurComp;topForm.removeEventHandler("onmousemove",Eco.XComp.Event._dragMoveHandler);}}},"_dragDownHandler":function(obj,e){var topForm=Eco.XComp.getTopLevelForm(obj.parent);if(topForm.findEventHandler("onmousemove",Eco.XComp.Event._dragMoveHandler)<0){topForm.addEventHandler("onmousemove",Eco.XComp.Event._dragMoveHandler);}if(!topForm.__makeDraggableTargets){topForm.__makeDraggableTargets={};}topForm.__makeDraggableTargets[obj._unique_id]=true;Eco.XComp.Event._lockMouseEvent(topForm);var pt={x:e.screenX,y:e.screenY};obj._drag={"startPt":pt,"offsetX":0,"offsetY":0,"isOffsetFromStart":false};topForm.__makeDraggableCurComp=obj;if(!obj.__scope){obj.__scope=topForm;}var func=obj._dragFuncs,addArgs;if(func){if(func.isOffsetFromStart===true){obj._drag.isOffsetFromStart=true;}addArgs=func.args;func=func.draggingStartFunc;}if(func){var args=[];if(addArgs){args=args.concat(addArgs);}if(func.mouseEventInfo){args[args.length]=e;}else{args[args.length]=e.clientX;args[args.length]=e.clientY;args[args.length]=e.shiftKey;args[args.length]=e.ctrlKey;}var ret=func.apply(this,args);if(ret===false){obj._drag=null;}}},"_dragUpHandler":function(obj,e){var drag=obj._drag;var topForm=Eco.XComp.getTopLevelForm(obj.parent);topForm.__makeDraggableCurComp=null;if(drag){Eco.XComp.Event.cancelAnimationFrame(obj._reqDragId);obj._reqDragId=null;obj._drag=null;var func=obj._dragFuncs,addArgs;if(func){addArgs=func.args;func=func.draggingEndFunc;}if(func){var args=[];if(addArgs){args=args.concat(addArgs);}if(func.mouseEventInfo){args[args.length]=e;}else{args[args.length]=e.clientX;args[args.length]=e.clientY;args[args.length]=e.shiftKey;args[args.length]=e.ctrlKey;}func.apply(this,args);}}},"_dragMoveHandler":function(form,e){var obj=form.__makeDraggableCurComp;if(obj){var drag=obj._drag;if(drag){obj._dragCurPt={x:e.screenX,y:e.screenY,shiftkey:e.shiftKey,ctrlkey:e.ctrlKey};if(obj._delayDragProc){Eco.XComp.Event.cancelAnimationFrame(obj._reqDragId);obj._reqDragId=null;}obj._reqDragId=Eco.XComp.Event.requestAnimationFrame(Eco.XComp.Event._dragProcess,obj.__scope,obj,e);}}},"_dragProcess":function(obj,e){var pt=obj._dragCurPt,drag=obj._drag;if(drag==null){return;}drag.offsetX=pt.x-drag.startPt.x;drag.offsetY=pt.y-drag.startPt.y;if(!drag.isOffsetFromStart){drag.startPt=pt;}var func=obj._dragFuncs,addArgs;if(func){addArgs=func.args;func=func.draggingFunc;}if(func){var args=[drag.offsetX,drag.offsetY];if(addArgs){args=args.concat(addArgs);}if(func.mouseEventInfo){args[args.length]=e;}else{args[args.length]=drag.shiftkey;args[args.length]=drag.ctrlkey;}func.apply(this,args);}},"_lockMouseEvent":function(comp,onlyLbtnUp){var win=comp._getWindow();win._mouseLockComp=comp;win._on_sys_lbuttonup=Eco.XComp.Event._on_default_sys_lbuttonup;if(!onlyLbtnUp){win._on_sys_mousemove=Eco.XComp.Event._on_default_sys_mousemove;}},"_on_default_sys_lbuttonup":function(elem,strButton,altKey,ctrlKey,shiftKey,windowX,windowY,screenX,screenY){var lockComp=this._mouseLockComp,enableChanged=false,tmpFunc,visibleChanged=false;elem=lockComp._control_element;if(!lockComp._isEnable()){enableChanged=true;tmpFunc=lockComp._isEnable;lockComp._isEnable=function(){return true;};}if(!lockComp.visible){visibleChanged=true;lockComp.visible=true;}nexacro.Window.prototype._on_default_sys_lbuttonup.call(this,elem,strButton,altKey,ctrlKey,shiftKey,windowX,windowY,screenX,screenY);this._on_sys_lbuttonup=nexacro.Window.prototype._on_default_sys_lbuttonup;this._on_sys_mousemove=nexacro.Window.prototype._on_default_sys_mousemove;if(enableChanged){lockComp._isEnable=tmpFunc;}if(visibleChanged){lockComp.visible=false;}this._mouseLockComp=null;},"_on_default_sys_mousemove":function(elem,strButton,altKey,ctrlKey,shiftKey,windowX,windowY,screenX,screenY){elem=this._mouseLockComp._control_element;nexacro.Window.prototype._on_default_sys_mousemove.call(this,elem,strButton,altKey,ctrlKey,shiftKey,windowX,windowY,screenX,screenY);},"makeRepeatable":function(XComp,repeatFunc,scope,args){if(Eco.isObject(repeatFunc)){XComp._repeatFuncs={"repeatStartFunc":repeatFunc.start,"repeatEndFunc":repeatFunc.end,"repeatingFunc":repeatFunc.repeating,"repeatStopFunc":repeatFunc.repeatingStop,"firstInterval":repeatFunc.firstInterval||500,"interval":repeatFunc.interval||100,"args":args};}else{XComp._repeatFuncs={"repeatingFunc":repeatFunc,"firstInterval":500,"interval":100,"args":args};}Eco.XComp.Event.add(XComp,{"onlbuttondown":Eco.XComp.Event._repeatDownHandler,"onlbuttonup":Eco.XComp.Event._repeatUpHandler},scope);},"clearRepeatable":function(XComp){if(XComp._repeatFuncs){Eco.XComp.Event._cancelRepeatable(XComp);Eco.XComp.Event.remove(XComp,{"onmousemove":Eco.XComp.Event._repeatMoveHandler},this);XComp._repeatStatus=null;XComp._repeatFuncs=null;Eco.XComp.Event.remove(XComp,{"onlbuttondown":Eco.XComp.Event._repeatDownHandler,"onlbuttonup":Eco.XComp.Event._repeatUpHandler});}},"_cancelRepeatable":function(XComp){if(XComp._timeId!=null){nexacro._clearSystemTimer(XComp._repeatFuncs._win_handle,XComp._timeId);XComp._timeId=null;}if(XComp._reqId!=null){Eco.XComp.Event.cancelAnimationFrame(XComp._reqId);XComp._reqId=null;}var curPoint=XComp._curPoint;if(curPoint){XComp._curPoint=null;}},"_repeatDownHandler":function(obj,e){Eco.XComp.Event._lockMouseEvent(obj);Eco.XComp.Event.add(obj,{"onmousemove":Eco.XComp.Event._repeatMoveHandler},this);obj._curPoint={x:e.clientX,y:e.clientY};var func=obj._repeatFuncs,args,addArgs;if(func){addArgs=func.args;func=func.repeatStartFunc;if(!func){func=null;}}if(func){var pt=obj._curPoint;args=[pt.x,pt.y];if(addArgs){args=args.concat(addArgs);}func.apply(this,args);}var repeatConf=obj._repeatFuncs,pThis=this;repeatConf._win_handle=obj._getReferenceContext()._getWindowHandle();obj._repeatStatus="firstRepeat";obj._timeId=nexacro._setSystemTimer(repeatConf._win_handle,function(){Eco.XComp.Event._repeatProcess.call(pThis,obj);},repeatConf.firstInterval);},"_repeatUpHandler":function(obj,e){Eco.XComp.Event.remove(obj,{"onmousemove":Eco.XComp.Event._repeatMoveHandler},this);var repeatConfig=obj._repeatFuncs,args,addArgs;Eco.XComp.Event._cancelRepeatable(obj);if(e.clientX>0&&e.clientY>0&&e.clientX<obj.getOffsetWidth()&&e.clientY<obj.getOffsetHeight()){if(obj._repeatStatus!="repeat"){var repeatingFunc,repeatingArg;if(repeatConfig){addArgs=repeatConfig.args;repeatingFunc=repeatConfig.repeatingFunc;if(!repeatingFunc){repeatingFunc=null;}}if(repeatingFunc){repeatingArg=[e.clientX,e.clientY];if(addArgs){repeatingArg=repeatingArg.concat(addArgs);}repeatingFunc.apply(this,repeatingArg);}}}var repeatEndFunc;addArgs=null;if(repeatConfig){addArgs=repeatConfig.args;repeatEndFunc=repeatConfig.repeatEndFunc;if(!repeatEndFunc){repeatEndFunc=null;}}if(repeatEndFunc){if(!addArgs){addArgs=[];}repeatEndFunc.apply(this,addArgs);}},"_repeatMoveHandler":function(obj,e){if(e.clientX<0||e.clientY<0||e.clientX>obj.getOffsetWidth()||e.clientY>obj.getOffsetHeight()){if(obj._repeatStatus=="firstRepeat"||obj._repeatStatus=="repeat"){obj._repeatStatus="stop";Eco.XComp.Event._cancelRepeatable(obj);var func=obj._repeatFuncs,addArgs;if(func){addArgs=func.args;func=func.repeatStopFunc;if(!func){func=null;}}if(func){if(!addArgs){addArgs=[];}func.apply(this,addArgs);}}}else{var curPoint=obj._curPoint;if(!curPoint){curPoint={x:e.clientX,y:e.clientY};obj._curPoint=curPoint;}else{curPoint.x=e.clientX;curPoint.y=e.clientY;}if(obj._repeatStatus=="stop"){var repeatConf=obj._repeatFuncs,pThis=this;obj._repeatStatus="firstRepeat";obj._timeId=nexacro._setSystemTimer(repeatConf._win_handle,function(){Eco.XComp.Event._repeatProcess.call(pThis,obj);},repeatConf.firstInterval);}}},"_repeatProcess":function(obj){var status=obj._repeatStatus;if(obj._reqId!=null){Eco.XComp.Event.cancelAnimationFrame(obj._reqId);obj._reqId=null;}if(status=="stop"){nexacro._clearSystemTimer(obj._repeatFuncs._win_handle,obj._timeId);obj._timeId=null;return;}if(status=="firstRepeat"){nexacro._clearSystemTimer(obj._repeatFuncs._win_handle,obj._timeId);obj._timeId=null;}var func=obj._repeatFuncs,args,addArgs;if(func){addArgs=func.args;func=func.repeatingFunc;if(!func){func=null;}}if(func){var curPoint=obj._curPoint;if(curPoint){args=[curPoint.x,curPoint.y];}else{args=[ -1, -1];}if(addArgs){args=args.concat(addArgs);}obj._reqId=Eco.XComp.Event.requestAnimationFrame(function(){func.apply(this,args);},this);}if(status=="firstRepeat"){var pThis=this;obj._repeatStatus="repeat";obj._timeId=nexacro._setSystemTimer(obj._repeatFuncs._win_handle,function(){Eco.XComp.Event._repeatProcess.call(pThis,obj);},obj._repeatFuncs.interval);}},"requestAnimationFrame":function(callback,scope){var args;if(arguments.length>2){args=Eco.array.toArray(arguments,2);}else{args=[];}var isRuntime=nexacro._init_platform_runtime;var useSetTimeout=Eco.XComp.Event._requestAnimationFrameUseSetTimer;if(useSetTimeout===undefined){useSetTimeout=false;}var rAF=Eco.XComp.Event._requestAnimationFrame;if(!rAF){if(isRuntime){rAF=function(form,callback,lastTimeRef){var lastTime=lastTimeRef.lastTime;var currTime=(Date.now?Date.now():(new Date).getTime());var interval=(1000/60)+lastTime-currTime;if(interval<0){interval=0;}var id=nexacro.OnceCallbackTimer.callonce(form,function(){lastTimeRef.lastTime=(Date.now?Date.now():(new Date).getTime());callback();},interval);return id;};}else{var context=JsNamespace.getGlobalContext();rAF=context.requestAnimationFrame;if(!rAF){var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!rAF; ++x){rAF=context[vendors[x]+'RequestAnimationFrame'];}if(!rAF){rAF=function(callback,lastTimeRef){var lastTime=lastTimeRef.lastTime;var currTime=(Date.now?Date.now():(new Date).getTime());var interval=(1000/60)+lastTime-currTime;if(interval<0){interval=0;}var id=context.setTimeout(function(){lastTimeRef.lastTime=(Date.now?Date.now():(new Date).getTime());callback();},interval);return id;};Eco.XComp.Event._requestAnimationFrameUseSetTimer=true;useSetTimeout=true;}}}Eco.XComp.Event._requestAnimationFrame=rAF;}if(!Eco.XComp.Event._requestAnimationFrameLastTimeInfo){Eco.XComp.Event._requestAnimationFrameLastTimeInfo={};}var id;if(isRuntime){var form=Eco.XComp.Event._getRequestAnimationFrameForm(scope);var callbackString=callback.toString();var lastTimeRef=Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callbackString];if(lastTimeRef===undefined){Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callback.toString()]={'lastTime':0,'timers':[]};lastTimeRef=Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callbackString];}var timer=rAF(form,function(){callback.apply(scope,args);},lastTimeRef);id=timer._handle;lastTimeRef.id=id;lastTimeRef.timers.push(timer);}else if(useSetTimeout){var callbackString=callback.toString();var lastTimeRef=Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callback.toString()];if(lastTimeRef===undefined){Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callbackString]={'lastTime':0};lastTimeRef=Eco.XComp.Event._requestAnimationFrameLastTimeInfo[callbackString];}id=rAF(function(){callback.apply(scope,args);},lastTimeRef);lastTimeRef.id=id;}else{id=rAF(function(){callback.apply(scope,args);});}return id;},"_getRequestAnimationFrameForm":function(scope){var form;if(scope._getReferenceContext){form=scope._getReferenceContext();}else{var c=application.mainframe.all[0];do{if(c instanceof ChildFrame){break;}c=c.all[0];}while(true)form=c.form;}return form;},"cancelAnimationFrame":function(id){var cAF=Eco.XComp.Event._cancelAnimationFrame;if(!cAF){if(nexacro._init_platform_runtime){cAF=function(id){var lastTimeInfo=Eco.XComp.Event._requestAnimationFrameLastTimeInfo;if(lastTimeInfo){for(var p in lastTimeInfo){if(lastTimeInfo.hasOwnProperty(p)){if(id==lastTimeInfo[p].id){var timers=lastTimeInfo[p].timers;for(var i=0,len=timers.length;i<len;i++ ){timers[i].destroy();timers[i]=null;}lastTimeInfo[p]=null;delete lastTimeInfo[p];break;}}}}};}else{var context=JsNamespace.getGlobalContext();cAF=context.cancelAnimationFrame;if(!cAF){var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!cAF; ++x){cAF=context[vendors[x]+'CancelAnimationFrame']||context[vendors[x]+'CancelRequestAnimationFrame'];}if(!cAF){cAF=function(id){context.clearTimeout(id);var lastTimeInfo=Eco.XComp.Event._requestAnimationFrameLastTimeInfo;if(lastTimeInfo){for(var p in lastTimeInfo){if(lastTimeInfo.hasOwnProperty(p)){if(id==lastTimeInfo[p].id){lastTimeInfo[p]=null;delete lastTimeInfo[p];break;}}}}};}}}Eco.XComp.Event._cancelAnimationFrame=cAF;}cAF(id);}});}if(!JsNamespace.exist("Eco.LocalStorage")){JsNamespace.declare("Eco.LocalStorage",{setItem:function(key,value,common){return nexacro.Application.setPrivateProfile(key,value,common);},getItem:function(key,common){return nexacro.Application.getPrivateProfile(key,common);}});var me=Eco.LocalStorage;if(nexacro.Browser.toUpperCase()=="RUNTIME"){me.removeItem=nexacro._emptyFn;me.clear=nexacro._emptyFn;}else{if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==6){me.removeItem=nexacro._emptyFn;me.clear=nexacro._emptyFn;}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==7){me.removeItem=function(key){var localstoragekey=application.key+application.xadl;var iframenode=nexacro._managerFrameNode;if(iframenode){iframenode.load(localstoragekey);var attribute=iframenode.getAttribute(key);if(attribute){iframenode.removeAttribute(key);}}};me.clear=function(){var localstoragekey=application.key+application.xadl;var iframenode=nexacro._managerFrameNode;if(iframenode){iframenode.load(localstoragekey);var attribute=iframenode.getAttribute(key);if(attribute){iframenode.clearAttributes();}}};}else{Eco.LocalStorage.removeItem=function(key){var localstorage=window.localStorage;if(localstorage){var localstoragekey=application.key+application.xadl;if(localstoragekey){var localstoragedata=localstorage.getItem(localstoragekey);var jsondata={};if(localstoragedata){jsondata=JSON.parse(localstoragedata);}var findkey=jsondata[key];if(findkey){delete jsondata[key];localstorage.setItem(localstoragekey,JSON.stringify(jsondata));}}}};Eco.LocalStorage.clear=function(){var localstorage=window.localStorage;if(localstorage){var localstoragekey=application.key+application.xadl;if(localstoragekey){var jsondata={};localstorage.setItem(localstoragekey,JSON.stringify(jsondata));}}};}}}if(!JsNamespace.exist("Eco.XComp.Factory")){JsNamespace.declare("Eco.XComp.Factory",{"getXCompByName":function(p,name){var poolName="default",target=p;if(Eco.isObject(p)){target=p.target;poolName=p.poolName;}var used=Eco.XComp.Factory._getUsed(target,poolName);if(used){return used[name];}},"_getCache":function(p,poolName,type,isCreate){var cache;if(poolName=="default"){cache=p._defaultCache;if(isCreate&&!cache){p._defaultCache={};cache=p._defaultCache;}if(!cache){return null;}if(!type||!type.length){Eco.Logger.error({message:"poolName이 'default'면 type값이 반드시 존재해야 합니다.",stack:true});}var typeCache=cache[type];if(isCreate&&!typeCache){cache[type]=[];typeCache=cache[type];}return typeCache;}else{cache=p._cache;if(isCreate&&!cache){p._cache={};cache=p._cache;}if(!cache){return null;}var namedCache=cache[poolName];if(isCreate&&!namedCache){cache[poolName]=[];namedCache=cache[poolName];}return namedCache;}},"_getUsed":function(p,poolName,isCreate){var used;if(poolName=="default"){used=p._defaultUsed;if(isCreate&&!used){p._defaultUsed={};used=p._defaultUsed;}}else{used=p._used;if(isCreate&&!used){used={};p._used=used;}if(!used){return null;}var tmpPoolUsed=used[poolName];if(isCreate&&!tmpPoolUsed){tmpPoolUsed={};used[poolName]=tmpPoolUsed;}return tmpPoolUsed;}return used;},"getXComp":function(p,type,nm){var xcomp,poolName="default",target=p,cache,factory=Eco.XComp.Factory;if(Eco.isObject(p)){target=p.target;poolName=p.poolName;}cache=factory._getCache(target,poolName,type);var compNm;if(!Eco.isString(nm)){compNm=null;}else{compNm=nm;}if(cache&&cache.length){xcomp=cache.pop();xcomp._id=compNm||xcomp._id||xcomp.name;}else{var ctor=factory._getConstructor(type);if(!ctor){Eco.Logger.error({"message":"type("+type+") is not exist!",stack:true});}xcomp=new ctor();xcomp.init(Eco.getUniqueId(type+"_"),"absolute",0,0,0,0);target.addChild(xcomp.name,xcomp);xcomp.show();xcomp._id=compNm||xcomp.name;}var argLens=arguments.length;if(argLens>2){var rect,args;if(Eco.isString(arguments[2])){if(argLens==4){factory.setRect(xcomp,arguments[3]);}else if(argLens==5){factory.setRect(xcomp,arguments[3],arguments[4]);}else if(argLens==6){factory.setRect(xcomp,arguments[3],arguments[4],arguments[5]);}else if(argLens==7){factory.setRect(xcomp,arguments[3],arguments[4],arguments[5],arguments[6]);}}else if(arguments[2]!=null){if(argLens==3){factory.setRect(xcomp,arguments[2]);}else if(argLens==4){factory.setRect(xcomp,arguments[2],arguments[3]);}else if(argLens==5){factory.setRect(xcomp,arguments[2],arguments[3],arguments[4]);}else if(argLens==6){factory.setRect(xcomp,arguments[2],arguments[3],arguments[4],arguments[5]);}}}factory.setProperties(xcomp,"visible",true);var used=factory._getUsed(target,poolName,true);used[xcomp._id]=xcomp;return xcomp;},"_getConstructor":function(type){var context=JsNamespace.getGlobalContext();return context[type];},"_recycle":function(c,clear){var setPropFunc=Eco.XComp.Factory.setProperties;if(clear){if(c._computeStyles){delete c["_computeStyles"];}c._props=null;var props=c._curProps;if(props){for(var prop in props){if(prop!="visible"&&props.hasOwnProperty(prop)){setPropFunc(c,prop,"");}}}setPropFunc(c,"visible",false);}else{setPropFunc(c,"visible",false);}},"getRect":function(c){var tmpRect=c._rect||c._curRect;if(!tmpRect){tmpRect={x:c.getPixelLeft(),y:c.getPixelTop(),width:c.getPixelWidth(),height:c.getPixelHeight()};}return tmpRect;},"getClientWidth":function(XComp){var wholeWidth=Eco.XComp.Factory.getRect(XComp).width;return Eco.XComp.PositionSize.getClientWidth(XComp,wholeWidth);},"getClientHeight":function(XComp){var wholeHeight=Eco.XComp.Factory.getRect(XComp).height;return Eco.XComp.PositionSize.getClientHeight(XComp,wholeHeight);},"getContentSizeWithStyle":function(XComp,text,styleSheet){if(Eco.isEmpty(styleSheet)){Eco.Logger.error({message:"styleSheet(스타일 속성정보)는 필수 입력값 입니다.",stack:true});return;}var _margin=styleSheet.getMargin(),_border=styleSheet.getBorder(),_padding=styleSheet.getPadding();var tempFont=styleSheet.getFont()["_font"];var textSize=nexacro._getTextSize2(text,tempFont);_border=_border.getLeft().getWidth()*2;var etcWidth=_margin.getLeft()+_margin.getRight()+_border+_padding.getLeft()+_padding.getRight();var etcHeight=_margin.getTop()+_margin.getBottom()+_border+_padding.getTop()+_padding.getBottom();return [textSize[0]+etcWidth,textSize[1]+etcHeight];},"setRect":function(c){var argsLen=arguments.length;var curRect=c._curRect;var rect=c._rect;if(argsLen==5){if(rect){rect.x=arguments[1];rect.y=arguments[2];rect.width=arguments[3];rect.height=arguments[4];}else{rect={x:arguments[1],y:arguments[2],width:arguments[3],height:arguments[4]};}}else if(argsLen==3){if(Eco.isNumber(arguments[1])){if(rect){rect.x=arguments[1];rect.y=arguments[2];}else{rect={x:arguments[1],y:arguments[2],width:0,height:0};}}else if(arguments[1]!=null&&arguments[2]!=null&&Eco.isNumber(arguments[1].x)&&Eco.isNumber(arguments[1].width)){if(rect){rect.x=arguments[1].x;rect.y=arguments[1].y;rect.width=arguments[2].width;rect.height=arguments[2].height;}else{rect={x:arguments[1].x,y:arguments[1].y,width:arguments[2].width,height:arguments[2].height};}}else{Eco.Logger.error("arguments are not correct! =>"+Eco.Logger.inspect(arguments,false,0,false));}}else if(argsLen==2){if(arguments[1]==null||Eco.isNumber(arguments[1])){Eco.Logger.error("arguments are not correct! =>"+Eco.Logger.inspect(arguments,false,0,false));}if(Eco.isNumber(arguments[1].x)&&Eco.isNumber(arguments[1].width)){rect={x:arguments[1].x,y:arguments[1].y,width:arguments[1].width,height:arguments[1].height};}else if(Eco.isNumber(arguments[1].width)){if(rect){rect.width=arguments[1].width;rect.height=arguments[1].height;}else{rect={x:0,y:0,width:arguments[1].width,height:arguments[1].height};}}else if(Eco.isNumber(arguments[1].x)){if(rect){rect.x=arguments[1].x;rect.y=arguments[1].y;}else{rect={x:arguments[1].x,y:arguments[1].y,width:0,height:0};}}}else if(argsLen==4){if(Eco.isNumber(arguments[2])&&Eco.isNumber(arguments[3])&&arguments[1]!=null&&Eco.isNumber(arguments[1].x)){if(rect){rect.x=arguments[1].x;rect.y=arguments[1].y;rect.width=arguments[2];rect.height=arguments[3];}else{rect={x:arguments[1].x,y:arguments[1].y,width:arguments[2],height:arguments[3]};}}else if(Eco.isNumber(arguments[1])&&Eco.isNumber(arguments[2])&&arguments[3]!=null&&Eco.isNumber(arguments[3].width)){if(rect){rect.x=arguments[1];rect.y=arguments[2];rect.width=arguments[3].width;rect.height=arguments[3].height;}else{rect={x:arguments[1],y:arguments[2],width:arguments[3].width,height:arguments[3].height};}}else{Eco.Logger.error("arguments are not correct! =>"+Eco.Logger.inspect(arguments,false,0,false));}}var factory=Eco.XComp.Factory;if(curRect){if(curRect.x!=rect.x||curRect.y!=rect.y||curRect.width!=rect.width||curRect.height!=rect.height){c._rect=rect;factory.invalidateRect(c);}else{c._needsRender=false;factory._removeRenderItems(c);factory._deleteParentRect(c.parent);}}else{c._rect=rect;factory.invalidateRect(c);}},"getProperty":function(c,propName){var propVal;if(c._props){propVal=c._props[propName];}if((propVal==null)&&c._curProps){propVal=c._curProps[propName];}if(propVal==null){propVal=c[propName];}return propVal;},"setProperties":function(c){var curprops=c._curProps||{},props=c._props||{},args=arguments,prop,subProp,value,changed=false;for(var i=1,n=args.length;i<n;i+=2){prop=args[i];value=args[i+1];if(props[prop]!=value||curprops[prop]!==value){changed=true;props[prop]=value;if(curprops[prop]===value){delete props[prop];}else if(prop=="style"&&c._computeStyles){c._computeStyles._changed=true;}}}if(changed){var isexist=false;for(var p in props){if(props.hasOwnProperty(p)){isexist=true;break;}}if(isexist){c._props=props;}else{c._props=null;}Eco.XComp.Factory.invalidateProps(c);}},"doLayout":function(p,isDownward){var factory=Eco.XComp.Factory;if(isDownward){var cs=p._commitPropItems,childs=p._changesPropChilds;if(((cs&&cs.length)||(childs&&childs.length))&&!p._processLayout){p._processLayout=true;factory._commitPropsProcess(p,isDownward);p._processLayout=false;}cs=p._renderItems;childs=p._changesRectChilds;if(((cs&&cs.length)||(childs&&childs.length))&&!p._processLayout){p._processLayout=true;factory._doRender(p,isDownward);p._processLayout=false;}}else{var cs=p._commitPropItems;if(cs&&cs.length&&!p._processLayout){p._processLayout=true;factory._commitPropsProcess(p,isDownward);p._processLayout=false;}cs=p._renderItems;if(cs&&cs.length&&!p._processLayout){p._processLayout=true;factory._doRender(p,isDownward);p._processLayout=false;}}},"_commitPropsProcess":function(p,isDownward){var cs=p._commitPropItems,factory=Eco.XComp.Factory;if(cs&&cs.length&&!p._processCommitProps){p._processCommitProps=true;for(var i=0,c;(c=cs[i]);i++ ){factory._commitProps(c);}p._commitPropItems=null;p._processCommitProps=false;}if(isDownward){cs=p._changesPropChilds;if(cs&&cs.length){for(var i=0,c;(c=cs[i]);i++ ){factory._commitPropsProcess(c,isDownward);c._needsPropChildsReg=false;}p._changesPropChilds=null;}}},"_doRender":function(p,isDownward){var cs=p._renderItems,factory=Eco.XComp.Factory;if(cs&&cs.length&&!p._processRender){p._processRender=true;for(var i=0,c;(c=cs[i]);i++ ){if(!(c instanceof Tabpage)){factory._changePosSize(c);}}p._renderItems=null;p._processRender=false;}if(isDownward){cs=p._changesRectChilds;if(cs&&cs.length){for(var i=0,c;(c=cs[i]);i++ ){factory._doRender(c,isDownward);c._needsRectChildsReg=false;}p._changesRectChilds=null;}}},"_doZOrder":function(clist){for(var i=1,len=clist.length;i<len;i++ ){clist[i].moveToPrev(clist[i-1]);}},"invalidate":function(c){var factory=Eco.XComp.Factory;factory.invalidateProps(c);factory.invalidateRect(c);},"validate":function(c){var factory=Eco.XComp.Factory;factory.invalidate(c);factory.doLayout(c.parent);},"invalidateRect":function(c){if(!c._needsRender){var factory=Eco.XComp.Factory;c._needsRender=true;factory._addRenderItems(c);factory._invalidateParentRect(c.parent);}},"validateRect":function(c){var factory=Eco.XComp.Factory;factory.invalidateRect(c);factory.doLayout(c.parent);},"_invalidateParentRect":function(c){var p=c.parent;if(!p||p instanceof ChildFrame){return;}if(p._changesRectChilds==null){p._changesRectChilds=[];}if(!c._needsRectChildsReg){c._needsRectChildsReg=true;p._changesRectChilds.push(c);}Eco.XComp.Factory._invalidateParentRect(p);},"_deleteParentRect":function(c){var p=c.parent;if(p instanceof ChildFrame){return;}if(p._changesRectChilds&&c._needsRectChildsReg&&(!c._renderItems||c._renderItems.length==0)){Eco.array.remove(p._changesRectChilds,c);c._needsRectChildsReg=false;}if(p._changesPropChilds&&c._needsPropChildsReg&&(!c._commitPropItems||c._commitPropItems.length==0)){Eco.XComp.Factory._deleteParentRect(p);}},"invalidateProps":function(c){var factory=Eco.XComp.Factory;if(c._props){if(!c._needsCommitProps){c._needsCommitProps=true;factory._addCommitPropItems(c);factory._invalidateParentProps(c.parent);}}else{c._needsCommitProps=false;factory._removeCommitPropItems(c);factory._deleteParentProps(c.parent);}},"_invalidateParentProps":function(c){var p=c.parent;if(!p||p instanceof ChildFrame){return;}if(p._changesPropChilds==null){p._changesPropChilds=[];}if(!c._needsPropChildsReg){c._needsPropChildsReg=true;p._changesPropChilds.push(c);}Eco.XComp.Factory._invalidateParentProps(p);},"_deleteParentProps":function(c){var p=c.parent;if(p instanceof ChildFrame){return;}if(p._changesPropChilds&&c._needsPropChildsReg&&(!c._commitPropItems||c._commitPropItems.length==0)){Eco.array.remove(p._changesPropChilds,c);c._needsPropChildsReg=false;}Eco.XComp.Factory._deleteParentProps(p);},"validateProps":function(c){var factory=Eco.XComp.Factory;factory.invalidateProps(c);factory.doLayout(c.parent);},"_addRenderItems":function(c){if(c instanceof Tabpage){Eco.Logger.error({"meassge":"Tabpage는 position 및 size를 변경 할 수 없습니다.","stack":true});}var p=c.parent;if(p instanceof Tabpage){var tabParent=p.parent.parent;if(!tabParent._renderItems){tabParent._renderItems=[];}if(Eco.array.indexOf(tabParent._renderItems,p)== -1){tabParent._renderItems.push(p);}}if(!p._renderItems){p._renderItems=[];}p._renderItems.push(c);},"_addCommitPropItems":function(c){var p=c.parent;if(!p._commitPropItems){p._commitPropItems=[];}p._commitPropItems.push(c);},"_removeRenderItems":function(c){var p=c.parent;if(p._renderItems){Eco.array.remove(p._renderItems,c);}},"_removeCommitPropItems":function(c){var p=c.parent;if(p._commitPropItems){Eco.array.remove(p._commitPropItems,c);}},"_commitProps":function(c){if(c._needsCommitProps){if(c._debug){trace("propChange==>"+(c._id||c.name)+"//"+Eco.object.getPropertyNames(c._props));}var props=c._props,curprops=c._curProps||{},curVal;if(props){for(var pNm in props){if(props.hasOwnProperty(pNm)){curVal=props[pNm];c["set_"+pNm](curVal);curprops[pNm]=curVal;if(pNm=="style"&&c._computeStyles){delete c["_computeStyles"];}}}c._props=null;c._curProps=curprops;}c._needsCommitProps=false;}},"_changePosSize":function(c){if(c._needsRender){if(c._debug){trace("rectChange==>"+(c._id||c.name)+"::"+c._rect.toString()+","+c.text+","+c.visible+","+c.style.border);}var rect=c._rect;if(rect){c.move(rect.x,rect.y,rect.width,rect.height);if(c._debug){trace("l:"+c.getPixelLeft()+" t:"+c.getPixelTop()+" w:"+c.getPixelWidth()+" h:"+c.getPixelHeight());}if(c._curRect){var r=c._curRect;r.x=rect.x;r.y=rect.y;r.width=rect.width;r.height=rect.height;}else{c._curRect={x:rect.x,y:rect.y,width:rect.width,height:rect.height};}}c._needsRender=false;}},"releaseNamed":function(p,names,propsClear){var poolName="default",target=p,used,cache,c,clearArr=[],isDefaultPool,factory=Eco.XComp.Factory;if(Eco.isObject(p)){target=p.target;poolName=p.poolName;}used=factory._getUsed(target,poolName);if(!used){return;}isDefaultPool=(poolName=="default");if(isDefaultPool){cache=p._defaultCache;if(!cache){p._defaultCache={};cache=p._defaultCache;}}else{cache=factory._getCache(target,poolName,null,true);}for(var i=0,len=names.length;i<len;i++ ){c=used[names[i]];if(c){if(isDefaultPool){var type=Eco.XComp.typeOf(c);if(!cache[type]){cache[type]=[];}cache[type].unshift(c);}else{cache.unshift(c);}factory._recycle(c,propsClear);clearArr.push(c);}}for(var i=0,len=clearArr.length;i<len;i++ ){delete used[clearArr[i]._id];}},"releaseAll":function(p,exclude,propsClear,isDownward){var poolName="default",target=p,used,cache,c,clearArr=[],isDefaultPool,factory=Eco.XComp.Factory;if(Eco.isObject(p)){target=p.target;poolName=p.poolName;}used=factory._getUsed(target,poolName);if(!used){return;}isDefaultPool=(poolName=="default");if(isDefaultPool){cache=p._defaultCache;if(!cache){p._defaultCache={};cache=p._defaultCache;}}else{cache=factory._getCache(target,poolName,null,true);}var excludeIsArray=Eco.isArray(exclude),excludeIsObject=false;if(!excludeIsArray){excludeIsObject=Eco.isObject(exclude);}if(excludeIsArray||excludeIsObject){var excludeMap;if(excludeIsArray){excludeMap={};for(var i=0,len=exclude.length;i<len;i++ ){excludeMap[exclude[i]._id]=true;}}else{excludeMap=exclude;}for(var nm in used){if(used.hasOwnProperty(nm)){c=used[nm];if(!excludeMap[c._id]){if(isDefaultPool){var type=Eco.XComp.typeOf(c);if(!cache[type]){cache[type]=[];}cache[type].push(c);}else{cache.unshift(c);}factory._recycle(c,propsClear);clearArr.push(c);if(isDownward){if(c instanceof Tab){c=c.tabpages[c.tabindex];factory.releaseAll(c,null,propsClear);}else if(c instanceof Form){factory.releaseAll(c,null,propsClear);}}}}}}else{for(var nm in used){if(used.hasOwnProperty(nm)){c=used[nm];if(isDefaultPool){var type=Eco.XComp.typeOf(c);if(!cache[type]){cache[type]=[];}cache[type].unshift(c);}else{cache.unshift(c);}factory._recycle(c,propsClear);clearArr.push(c);if(isDownward){if(c instanceof Tab){c=c.tabpages[c.tabindex];factory.releaseAll(c,null,propsClear);}else if(c instanceof Form){factory.releaseAll(c,null,propsClear);}}}}}for(var i=0,len=clearArr.length;i<len;i++ ){delete used[clearArr[i]._id];}},"release":function(c,poolName,propsClear){var target=c.parent,used,cache,factory=Eco.XComp.Factory;if(!poolName||!poolName.length){poolName="default";}if(poolName=="default"){var type=Eco.XComp.typeOf(c);cache=factory._getCache(target,poolName,type,true);cache.push(c);}else{cache=factory._getCache(target,poolName,null,true);cache.push(c);}factory._recycle(c,propsClear);used=factory._getUsed(target,poolName);if(used){delete used[c._id];}},"getNonClientArea":function(xcomp,pseudo,includePadding){if(Eco.isEmpty(xcomp)){return;}var factory=Eco.XComp.Factory,props;if(pseudo==null){pseudo=xcomp.getCurrentPseudo();}if(includePadding===false){props=factory._nonClientAreaWithOutPadding;}else{props=factory._nonClientArea;}var curStyle,styleObj;if(Eco.isXComponent(xcomp)){var stylestr=factory.getProperty(xcomp,"style"),parseStyleObj;if(stylestr&&stylestr.length){parseStyleObj=xcomp._computeStyles;if(!parseStyleObj||parseStyleObj._changed){parseStyleObj=factory.parseStyleStr(stylestr);parseStyleObj._changed=false;xcomp._computeStyles=parseStyleObj;}}if(parseStyleObj){styleObj=parseStyleObj[pseudo];}curStyle=xcomp.currentstyle;}else{styleObj=xcomp[pseudo];}var retVal=[0,0,0,0],propName,propobj,propProc;if(styleObj){for(var i=0,len=props.length;i<len;i++ ){propProc=props[i];propName=propProc.name;propobj=styleObj[propName];if(!propobj&&curStyle){propobj=curStyle[propName];}if(propobj){propProc.calcGap(propobj,retVal);}}}else if(curStyle){var propobj,propProc;for(var i=0,len=props.length;i<len;i++ ){propProc=props[i];propobj=curStyle[propProc.name];if(propobj){propProc.calcGap(propobj,retVal);}}}return retVal;},_nonClientArea:[{name:"border",calcGap:function(obj,arr){var val;switch(obj._linecnt){case 1:val=obj._top_width;arr[0]+=val;arr[1]+=val;arr[2]+=val;arr[3]+=val;break;case 2:val=obj._top_width;arr[1]+=val;arr[3]+=val;val=obj._right_width;arr[0]+=val;arr[2]+=val;break;case 3:val=obj._top_width;arr[1]+=val;val=obj._right_width;arr[0]+=val;arr[2]+=val;val=obj._bottom_width;arr[3]+=val;break;case 4:arr[0]+=obj._left_width;arr[1]+=obj._top_width;arr[2]+=obj._right_width;arr[3]+=obj._bottom_width;break;}}},{name:"margin",calcGap:function(obj,arr){arr[0]+=obj.left;arr[1]+=obj.top;arr[2]+=obj.right;arr[3]+=obj.bottom;}},{name:"padding",calcGap:function(obj,arr){arr[0]+=obj.left;arr[1]+=obj.top;arr[2]+=obj.right;arr[3]+=obj.bottom;}}],_nonClientAreaWithOutPadding:[{name:"border",calcGap:function(obj,arr){var val;switch(obj._linecnt){case 1:val=obj._top_width;arr[0]+=val;arr[1]+=val;arr[2]+=val;arr[3]+=val;break;case 2:val=obj._top_width;arr[1]+=val;arr[3]+=val;val=obj._right_width;arr[0]+=val;arr[2]+=val;break;case 3:val=obj._top_width;arr[1]+=val;val=obj._right_width;arr[0]+=val;arr[2]+=val;val=obj._bottom_width;arr[3]+=val;break;case 4:arr[0]+=obj._left_width;arr[1]+=obj._top_width;arr[2]+=obj._right_width;arr[3]+=obj._bottom_width;break;}}},{name:"margin",calcGap:function(obj,arr){arr[0]+=obj.left;arr[1]+=obj.top;arr[2]+=obj.right;arr[3]+=obj.bottom;}}],_styleprops:{align:"Align",background:"Background",bordertype:"Bordertype",border:"Border",color:"Color",cursor:"Style",font:"Font",glow:"Glow",gradation:"Gradation",margin:"Margin",opacity:"Style",padding:"Padding",shadow:"Shadow",accessibility:"Accessibility"},_setStylePropObject:function(val,sObj,factory,stringUtil){var linearr=val.split(";");var propname,propval;for(var i=0,len=linearr.length;i<len;i++ ){var tmpstr=linearr[i];var idx=tmpstr.indexOf(":");propname=tmpstr.substring(0,idx).trim();propval=tmpstr.substring(idx+1).trim();if(propname&&propval){var fnNm=factory._styleprops[propname];if(fnNm){var getFn=nexacro["_getCached"+fnNm+"Obj"];if(fnNm=="Style"){sObj[propname]=getFn(propname,propval);}else{sObj[propname]=getFn(propval);}}}}},"parseStyleStr":function(str){if(Eco.isEmpty(str)){return;}var stringUtil=Eco.string,factory=Eco.XComp.Factory;var blocks=str.split("}");var s=blocks[0].trim();var styles;blocks.pop();var i,len=blocks.length;var definition_block,pseudo,normal_style,sObj;definition_block=s.split("{");normal_style=definition_block[0].substring(0,definition_block[0].lastIndexOf(";")+1).trim();if(normal_style.length==0){normal_style=definition_block[0].substring(0,definition_block[0].length).trim();}if(normal_style&&normal_style.length){styles={};sObj={};factory._setStylePropObject(normal_style,sObj,factory,stringUtil);styles["normal"]=sObj;}if(len>0){for(i=0;i<len;i++ ){definition_block=blocks[i].split("{");pseudo=definition_block[0].substring(definition_block[0].lastIndexOf(":")+1).trim();if(definition_block[1]&&definition_block[1].length){if(!styles){styles={};}sObj={};factory._setStylePropObject(definition_block[1],sObj,factory,stringUtil);styles[pseudo]=sObj;}}}return styles;},"setStyleSheet":function(XComp,cssItem){if(Eco.isEmpty(XComp)||Eco.isEmpty(cssItem)){return;}var keys=["_border","font","margin","padding"];var aliasKeys=["border","font","margin","padding"];var styleString="";for(var i=0,len=keys.length;i<len;i++ ){styleString+=aliasKeys[i]+":"+cssItem.getString(keys[i])+";";}Eco.XComp.Factory.setProperties(XComp,"style",styleString);}});}